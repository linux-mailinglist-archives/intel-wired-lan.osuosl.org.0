Return-Path: <intel-wired-lan-bounces@osuosl.org>
X-Original-To: lists+intel-wired-lan@lfdr.de
Delivered-To: lists+intel-wired-lan@lfdr.de
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id 5730F29D00D
	for <lists+intel-wired-lan@lfdr.de>; Wed, 28 Oct 2020 14:35:21 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 184F1869E3;
	Wed, 28 Oct 2020 13:35:20 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eGKZ-iZd44iZ; Wed, 28 Oct 2020 13:35:19 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by fraxinus.osuosl.org (Postfix) with ESMTP id AE66986A08;
	Wed, 28 Oct 2020 13:35:18 +0000 (UTC)
X-Original-To: intel-wired-lan@lists.osuosl.org
Delivered-To: intel-wired-lan@lists.osuosl.org
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by ash.osuosl.org (Postfix) with ESMTP id 1C2021BF857
 for <intel-wired-lan@lists.osuosl.org>; Wed, 28 Oct 2020 13:35:17 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by fraxinus.osuosl.org (Postfix) with ESMTP id 18E08869E3
 for <intel-wired-lan@lists.osuosl.org>; Wed, 28 Oct 2020 13:35:17 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 2moIHQ_pVBW1 for <intel-wired-lan@lists.osuosl.org>;
 Wed, 28 Oct 2020 13:35:16 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mail-pf1-f196.google.com (mail-pf1-f196.google.com
 [209.85.210.196])
 by fraxinus.osuosl.org (Postfix) with ESMTPS id 549A0869D0
 for <intel-wired-lan@lists.osuosl.org>; Wed, 28 Oct 2020 13:35:16 +0000 (UTC)
Received: by mail-pf1-f196.google.com with SMTP id 126so2945361pfu.4
 for <intel-wired-lan@lists.osuosl.org>; Wed, 28 Oct 2020 06:35:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=ctARgd5IeefW/xDEFZzb1NY2kFiOmkaVN6jb4VQWnGY=;
 b=PLrzjJzwRFNojRi8jy55qv7BTPweCnOMSMk+Ol7VV2YvxManvupJmNNvMgGaujesOZ
 HRKRAOl+mxj3YnZ1ORrIZ/62yhyrBDRiCG2LY7JDf8SihsNrdcO7MEyYbLjD6QRO7AQq
 KziySVPDyskFCbXY+X7qwOPqVg3ynAcZ0BVimmg8nNPHdhsLd43olWNA3v6ck4SAoi+z
 DLby4KSb1LwgcE0o4KQ0uoRMVr6HYDGGlnwu9aCOB+kbpDf+dvw1bhCJ9lwoMmI6cvEf
 JTCF7m0Myf6inaqlKyjLHDjIB0Yg6MHpB4KzY5NcXF+++ScoO9twHW+C9WziI5d9mSse
 60Mw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=ctARgd5IeefW/xDEFZzb1NY2kFiOmkaVN6jb4VQWnGY=;
 b=l1+Er8ob6Ho4SaZNrtpYgJns/FYMw7UNoEAy2vqMu9b3DZYNH5VxHujZ0sRUvdFvB4
 GOg0dh58FyJ40bsocLCiYMmbN2ZyUykvID1QzeQx79RSS1Us9nm54Qz7XaYMTcfMSYEd
 MdIROGv4oVmMa72AGtbj4rnLt1hy5GcYeovrX51gzJb/DfuCzjwepJpjnPQEe9fz/MzJ
 oWNZ7NUhD9/I7wXnRqlANzy6XKVsgSvDAa0v5Q5hS2w1wT44rAObqY1FMGuXI9ZFSNiX
 GGAmNAP9x9mdRgNJDHsRtPRVSddtsj8j/n0OayvVri3is5gA4DjbEOpn1exxiZksv8Gg
 SAcQ==
X-Gm-Message-State: AOAM533JyRFbAFHrubyrf0xRmqKI+dYNne+XXVYzVUqdbwxCLna6vkV9
 /ZrDChCm68jc/BSPadMQXx8=
X-Google-Smtp-Source: ABdhPJy4JsZnLSuXFGGfGf5z9wYwEIBbyRNvXY0p7TXn6SDylWXjbgKrQDAWfIugPhofnBPsR2d//A==
X-Received: by 2002:a62:7a8f:0:b029:163:d0b3:ac18 with SMTP id
 v137-20020a627a8f0000b0290163d0b3ac18mr7777212pfc.9.1603892115932; 
 Wed, 28 Oct 2020 06:35:15 -0700 (PDT)
Received: from btopel-mobl.ger.intel.com ([192.55.55.43])
 by smtp.gmail.com with ESMTPSA id q14sm5935393pjp.43.2020.10.28.06.35.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 28 Oct 2020 06:35:15 -0700 (PDT)
From: =?UTF-8?q?Bj=C3=B6rn=20T=C3=B6pel?= <bjorn.topel@gmail.com>
To: netdev@vger.kernel.org,
	bpf@vger.kernel.org
Date: Wed, 28 Oct 2020 14:34:30 +0100
Message-Id: <20201028133437.212503-3-bjorn.topel@gmail.com>
X-Mailer: git-send-email 2.27.0
In-Reply-To: <20201028133437.212503-1-bjorn.topel@gmail.com>
References: <20201028133437.212503-1-bjorn.topel@gmail.com>
MIME-Version: 1.0
Subject: [Intel-wired-lan] [RFC PATCH bpf-next 2/9] net: add
 SO_BUSY_POLL_BUDGET socket option
X-BeenThere: intel-wired-lan@osuosl.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel Wired Ethernet Linux Kernel Driver Development
 <intel-wired-lan.osuosl.org>
List-Unsubscribe: <https://lists.osuosl.org/mailman/options/intel-wired-lan>, 
 <mailto:intel-wired-lan-request@osuosl.org?subject=unsubscribe>
List-Archive: <http://lists.osuosl.org/pipermail/intel-wired-lan/>
List-Post: <mailto:intel-wired-lan@osuosl.org>
List-Help: <mailto:intel-wired-lan-request@osuosl.org?subject=help>
List-Subscribe: <https://lists.osuosl.org/mailman/listinfo/intel-wired-lan>,
 <mailto:intel-wired-lan-request@osuosl.org?subject=subscribe>
Cc: daniel@iogearbox.net, jonathan.lemon@gmail.com, ast@kernel.org,
 edumazet@google.com, intel-wired-lan@lists.osuosl.org, qi.z.zhang@intel.com,
 kuba@kernel.org, =?UTF-8?q?Bj=C3=B6rn=20T=C3=B6pel?= <bjorn.topel@intel.com>,
 magnus.karlsson@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-wired-lan-bounces@osuosl.org
Sender: "Intel-wired-lan" <intel-wired-lan-bounces@osuosl.org>

RnJvbTogQmrDtnJuIFTDtnBlbCA8Ympvcm4udG9wZWxAaW50ZWwuY29tPgoKVGhpcyBvcHRpb24g
bGV0cyBhIHVzZXIgc2V0IGEgcGVyIHNvY2tldCBOQVBJIGJ1ZGdldCBmb3IKYnVzeS1wb2xsaW5n
LiBJZiB0aGUgb3B0aW9ucyBpcyBub3Qgc2V0LCBpdCB3aWxsIHVzZSB0aGUgZGVmYXVsdCBvZiA4
LgoKU2lnbmVkLW9mZi1ieTogQmrDtnJuIFTDtnBlbCA8Ympvcm4udG9wZWxAaW50ZWwuY29tPgot
LS0KIGFyY2gvYWxwaGEvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaCAgfCAgMSArCiBhcmNoL21p
cHMvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaCAgIHwgIDEgKwogYXJjaC9wYXJpc2MvaW5jbHVk
ZS91YXBpL2FzbS9zb2NrZXQuaCB8ICAxICsKIGFyY2gvc3BhcmMvaW5jbHVkZS91YXBpL2FzbS9z
b2NrZXQuaCAgfCAgMSArCiBmcy9ldmVudHBvbGwuYyAgICAgICAgICAgICAgICAgICAgICAgIHwg
IDMgKystCiBpbmNsdWRlL25ldC9idXN5X3BvbGwuaCAgICAgICAgICAgICAgIHwgIDYgKysrKy0t
CiBpbmNsdWRlL25ldC9zb2NrLmggICAgICAgICAgICAgICAgICAgIHwgIDEgKwogaW5jbHVkZS91
YXBpL2FzbS1nZW5lcmljL3NvY2tldC5oICAgICB8ICAxICsKIG5ldC9jb3JlL2Rldi5jICAgICAg
ICAgICAgICAgICAgICAgICAgfCAyMCArKysrKysrKystLS0tLS0tLS0tLQogbmV0L2NvcmUvc29j
ay5jICAgICAgICAgICAgICAgICAgICAgICB8IDEwICsrKysrKysrKysKIDEwIGZpbGVzIGNoYW5n
ZWQsIDMxIGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2FyY2gv
YWxwaGEvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaCBiL2FyY2gvYWxwaGEvaW5jbHVkZS91YXBp
L2FzbS9zb2NrZXQuaAppbmRleCAwZjc3NjY2OGZiMDkuLjRlYTk3MmI3YjcxMSAxMDA2NDQKLS0t
IGEvYXJjaC9hbHBoYS9pbmNsdWRlL3VhcGkvYXNtL3NvY2tldC5oCisrKyBiL2FyY2gvYWxwaGEv
aW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaApAQCAtMTI1LDYgKzEyNSw3IEBACiAjZGVmaW5lIFNP
X0RFVEFDSF9SRVVTRVBPUlRfQlBGIDY4CiAKICNkZWZpbmUgU09fQklBU19CVVNZX1BPTEwJNjkK
KyNkZWZpbmUgU09fQlVTWV9QT0xMX0JVREdFVAk3MAogCiAjaWYgIWRlZmluZWQoX19LRVJORUxf
XykKIApkaWZmIC0tZ2l0IGEvYXJjaC9taXBzL2luY2x1ZGUvdWFwaS9hc20vc29ja2V0LmggYi9h
cmNoL21pcHMvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaAppbmRleCBkMjM5ODQ3MzE1MDQuLjEz
ZWFmZmJmYmU1MCAxMDA2NDQKLS0tIGEvYXJjaC9taXBzL2luY2x1ZGUvdWFwaS9hc20vc29ja2V0
LmgKKysrIGIvYXJjaC9taXBzL2luY2x1ZGUvdWFwaS9hc20vc29ja2V0LmgKQEAgLTEzNiw2ICsx
MzYsNyBAQAogI2RlZmluZSBTT19ERVRBQ0hfUkVVU0VQT1JUX0JQRiA2OAogCiAjZGVmaW5lIFNP
X0JJQVNfQlVTWV9QT0xMCTY5CisjZGVmaW5lIFNPX0JVU1lfUE9MTF9CVURHRVQJNzAKIAogI2lm
ICFkZWZpbmVkKF9fS0VSTkVMX18pCiAKZGlmZiAtLWdpdCBhL2FyY2gvcGFyaXNjL2luY2x1ZGUv
dWFwaS9hc20vc29ja2V0LmggYi9hcmNoL3BhcmlzYy9pbmNsdWRlL3VhcGkvYXNtL3NvY2tldC5o
CmluZGV4IDQ5NDY5NzEzZWQyYS4uMDM2ZTQyZGFjNmIzIDEwMDY0NAotLS0gYS9hcmNoL3Bhcmlz
Yy9pbmNsdWRlL3VhcGkvYXNtL3NvY2tldC5oCisrKyBiL2FyY2gvcGFyaXNjL2luY2x1ZGUvdWFw
aS9hc20vc29ja2V0LmgKQEAgLTExNyw2ICsxMTcsNyBAQAogI2RlZmluZSBTT19ERVRBQ0hfUkVV
U0VQT1JUX0JQRiAweDQwNDIKIAogI2RlZmluZSBTT19CSUFTX0JVU1lfUE9MTAkweDQwNDMKKyNk
ZWZpbmUgU09fQlVTWV9QT0xMX0JVREdFVAkweDQwNDQKIAogI2lmICFkZWZpbmVkKF9fS0VSTkVM
X18pCiAKZGlmZiAtLWdpdCBhL2FyY2gvc3BhcmMvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaCBi
L2FyY2gvc3BhcmMvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaAppbmRleCAwMDlhYmE2ZjdhNTQu
LmJjNDgyZGM5M2JkNCAxMDA2NDQKLS0tIGEvYXJjaC9zcGFyYy9pbmNsdWRlL3VhcGkvYXNtL3Nv
Y2tldC5oCisrKyBiL2FyY2gvc3BhcmMvaW5jbHVkZS91YXBpL2FzbS9zb2NrZXQuaApAQCAtMTE4
LDYgKzExOCw3IEBACiAjZGVmaW5lIFNPX0RFVEFDSF9SRVVTRVBPUlRfQlBGICAweDAwNDcKIAog
I2RlZmluZSBTT19CSUFTX0JVU1lfUE9MTAkgMHgwMDQ4CisjZGVmaW5lIFNPX0JVU1lfUE9MTF9C
VURHRVQJIDB4MDA0OQogCiAjaWYgIWRlZmluZWQoX19LRVJORUxfXykKIApkaWZmIC0tZ2l0IGEv
ZnMvZXZlbnRwb2xsLmMgYi9mcy9ldmVudHBvbGwuYwppbmRleCA0ZGY2MTEyOTU2NmQuLmZhMDBh
MDY0MDI2NCAxMDA2NDQKLS0tIGEvZnMvZXZlbnRwb2xsLmMKKysrIGIvZnMvZXZlbnRwb2xsLmMK
QEAgLTM5Nyw3ICszOTcsOCBAQCBzdGF0aWMgdm9pZCBlcF9idXN5X2xvb3Aoc3RydWN0IGV2ZW50
cG9sbCAqZXAsIGludCBub25ibG9jaykKIAl1bnNpZ25lZCBpbnQgbmFwaV9pZCA9IFJFQURfT05D
RShlcC0+bmFwaV9pZCk7CiAKIAlpZiAoKG5hcGlfaWQgPj0gTUlOX05BUElfSUQpICYmIG5ldF9i
dXN5X2xvb3Bfb24oKSkKLQkJbmFwaV9idXN5X2xvb3AobmFwaV9pZCwgbm9uYmxvY2sgPyBOVUxM
IDogZXBfYnVzeV9sb29wX2VuZCwgZXApOworCQluYXBpX2J1c3lfbG9vcChuYXBpX2lkLCBub25i
bG9jayA/IE5VTEwgOiBlcF9idXN5X2xvb3BfZW5kLCBlcCwKKwkJCSAgICAgICBCVVNZX1BPTExf
QlVER0VUKTsKIH0KIAogc3RhdGljIGlubGluZSB2b2lkIGVwX3Jlc2V0X2J1c3lfcG9sbF9uYXBp
X2lkKHN0cnVjdCBldmVudHBvbGwgKmVwKQpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9uZXQvYnVzeV9w
b2xsLmggYi9pbmNsdWRlL25ldC9idXN5X3BvbGwuaAppbmRleCA5NzM4OTIzZWQxN2IuLmM2YzQx
M2QzODI0ZCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9uZXQvYnVzeV9wb2xsLmgKKysrIGIvaW5jbHVk
ZS9uZXQvYnVzeV9wb2xsLmgKQEAgLTI1LDYgKzI1LDcgQEAKIAogLyogQmlhc2VkIGJ1c3ktcG9s
bCB3YXRjaGRvZyB0aW1lb3V0IGluIG1zICovCiAjZGVmaW5lIEJJQVNFRF9CVVNZX1BPTExfVElN
RU9VVCAyMDAKKyNkZWZpbmUgQlVTWV9QT0xMX0JVREdFVCA4CiAKICNpZmRlZiBDT05GSUdfTkVU
X1JYX0JVU1lfUE9MTAogCkBAIC00Niw3ICs0Nyw3IEBAIGJvb2wgc2tfYnVzeV9sb29wX2VuZCh2
b2lkICpwLCB1bnNpZ25lZCBsb25nIHN0YXJ0X3RpbWUpOwogCiB2b2lkIG5hcGlfYnVzeV9sb29w
KHVuc2lnbmVkIGludCBuYXBpX2lkLAogCQkgICAgYm9vbCAoKmxvb3BfZW5kKSh2b2lkICosIHVu
c2lnbmVkIGxvbmcpLAotCQkgICAgdm9pZCAqbG9vcF9lbmRfYXJnKTsKKwkJICAgIHZvaWQgKmxv
b3BfZW5kX2FyZywgdTE2IGJ1ZGdldCk7CiAKICNlbHNlIC8qIENPTkZJR19ORVRfUlhfQlVTWV9Q
T0xMICovCiBzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGxvbmcgbmV0X2J1c3lfbG9vcF9vbih2b2lk
KQpAQCAtMTE5LDcgKzEyMCw4IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBza19idXN5X2xvb3Aoc3Ry
dWN0IHNvY2sgKnNrLCBpbnQgbm9uYmxvY2spCiAKIAlpZiAobmFwaV9pZCA+PSBNSU5fTkFQSV9J
RCkgewogCQlfX3NrX2JpYXNfYnVzeV9wb2xsKHNrLCBuYXBpX2lkKTsKLQkJbmFwaV9idXN5X2xv
b3AobmFwaV9pZCwgbm9uYmxvY2sgPyBOVUxMIDogc2tfYnVzeV9sb29wX2VuZCwgc2spOworCQlu
YXBpX2J1c3lfbG9vcChuYXBpX2lkLCBub25ibG9jayA/IE5VTEwgOiBza19idXN5X2xvb3BfZW5k
LCBzaywKKwkJCSAgICAgICBzay0+c2tfYnVzeV9wb2xsX2J1ZGdldCA/OiBCVVNZX1BPTExfQlVE
R0VUKTsKIAl9CiAjZW5kaWYKIH0KZGlmZiAtLWdpdCBhL2luY2x1ZGUvbmV0L3NvY2suaCBiL2lu
Y2x1ZGUvbmV0L3NvY2suaAppbmRleCBjZjcxODM0ZmI2MDEuLjNjYWY1M2I2YmQ3MSAxMDA2NDQK
LS0tIGEvaW5jbHVkZS9uZXQvc29jay5oCisrKyBiL2luY2x1ZGUvbmV0L3NvY2suaApAQCAtNDgx
LDYgKzQ4MSw3IEBAIHN0cnVjdCBzb2NrIHsKIAlrdWlkX3QJCQlza191aWQ7CiAjaWZkZWYgQ09O
RklHX05FVF9SWF9CVVNZX1BPTEwKIAl1OAkJCXNrX2JpYXNfYnVzeV9wb2xsOworCXUxNgkJCXNr
X2J1c3lfcG9sbF9idWRnZXQ7CiAjZW5kaWYKIAlzdHJ1Y3QgcGlkCQkqc2tfcGVlcl9waWQ7CiAJ
Y29uc3Qgc3RydWN0IGNyZWQJKnNrX3BlZXJfY3JlZDsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvdWFw
aS9hc20tZ2VuZXJpYy9zb2NrZXQuaCBiL2luY2x1ZGUvdWFwaS9hc20tZ2VuZXJpYy9zb2NrZXQu
aAppbmRleCA4YTJiMzdjY2Q5ZDUuLjlkYzFmMzVmZTc3ZiAxMDA2NDQKLS0tIGEvaW5jbHVkZS91
YXBpL2FzbS1nZW5lcmljL3NvY2tldC5oCisrKyBiL2luY2x1ZGUvdWFwaS9hc20tZ2VuZXJpYy9z
b2NrZXQuaApAQCAtMTIwLDYgKzEyMCw3IEBACiAjZGVmaW5lIFNPX0RFVEFDSF9SRVVTRVBPUlRf
QlBGIDY4CiAKICNkZWZpbmUgU09fQklBU19CVVNZX1BPTEwJNjkKKyNkZWZpbmUgU09fQlVTWV9Q
T0xMX0JVREdFVAk3MAogCiAjaWYgIWRlZmluZWQoX19LRVJORUxfXykKIApkaWZmIC0tZ2l0IGEv
bmV0L2NvcmUvZGV2LmMgYi9uZXQvY29yZS9kZXYuYwppbmRleCBhMjllNGM0YTM1ZjYuLmIzNDUy
MGFjYWE3ZiAxMDA2NDQKLS0tIGEvbmV0L2NvcmUvZGV2LmMKKysrIGIvbmV0L2NvcmUvZGV2LmMK
QEAgLTY0OTYsOSArNjQ5Niw3IEBAIHN0YXRpYyBzdHJ1Y3QgbmFwaV9zdHJ1Y3QgKm5hcGlfYnlf
aWQodW5zaWduZWQgaW50IG5hcGlfaWQpCiAKICNpZiBkZWZpbmVkKENPTkZJR19ORVRfUlhfQlVT
WV9QT0xMKQogCi0jZGVmaW5lIEJVU1lfUE9MTF9CVURHRVQgOAotCi1zdGF0aWMgdm9pZCBidXN5
X3BvbGxfc3RvcChzdHJ1Y3QgbmFwaV9zdHJ1Y3QgKm5hcGksIHZvaWQgKmhhdmVfcG9sbF9sb2Nr
KQorc3RhdGljIHZvaWQgYnVzeV9wb2xsX3N0b3Aoc3RydWN0IG5hcGlfc3RydWN0ICpuYXBpLCB2
b2lkICpoYXZlX3BvbGxfbG9jaywgdTE2IGJ1ZGdldCkKIHsKIAlpbnQgcmM7CiAKQEAgLTY1MzAs
MTQgKzY1MjgsMTQgQEAgc3RhdGljIHZvaWQgYnVzeV9wb2xsX3N0b3Aoc3RydWN0IG5hcGlfc3Ry
dWN0ICpuYXBpLCB2b2lkICpoYXZlX3BvbGxfbG9jaykKIAkvKiBBbGwgd2UgcmVhbGx5IHdhbnQg
aGVyZSBpcyB0byByZS1lbmFibGUgZGV2aWNlIGludGVycnVwdHMuCiAJICogSWRlYWxseSwgYSBu
ZXcgbmRvX2J1c3lfcG9sbF9zdG9wKCkgY291bGQgYXZvaWQgYW5vdGhlciByb3VuZC4KIAkgKi8K
LQlyYyA9IG5hcGktPnBvbGwobmFwaSwgQlVTWV9QT0xMX0JVREdFVCk7CisJcmMgPSBuYXBpLT5w
b2xsKG5hcGksIGJ1ZGdldCk7CiAJLyogV2UgY2FuJ3QgZ3JvX25vcm1hbF9saXN0KCkgaGVyZSwg
YmVjYXVzZSBuYXBpLT5wb2xsKCkgbWlnaHQgaGF2ZQogCSAqIHJlYXJtZWQgdGhlIG5hcGkgKG5h
cGlfY29tcGxldGVfZG9uZSgpKSBpbiB3aGljaCBjYXNlIGl0IGNvdWxkCiAJICogYWxyZWFkeSBi
ZSBydW5uaW5nIG9uIGFub3RoZXIgQ1BVLgogCSAqLwotCXRyYWNlX25hcGlfcG9sbChuYXBpLCBy
YywgQlVTWV9QT0xMX0JVREdFVCk7CisJdHJhY2VfbmFwaV9wb2xsKG5hcGksIHJjLCBidWRnZXQp
OwogCW5ldHBvbGxfcG9sbF91bmxvY2soaGF2ZV9wb2xsX2xvY2spOwotCWlmIChyYyA9PSBCVVNZ
X1BPTExfQlVER0VUKSB7CisJaWYgKHJjID09IGJ1ZGdldCkgewogCQkvKiBBcyB0aGUgd2hvbGUg
YnVkZ2V0IHdhcyBzcGVudCwgd2Ugc3RpbGwgb3duIHRoZSBuYXBpIHNvIGNhbgogCQkgKiBzYWZl
bHkgaGFuZGxlIHRoZSByeF9saXN0LgogCQkgKi8KQEAgLTY1NDksNyArNjU0Nyw3IEBAIHN0YXRp
YyB2b2lkIGJ1c3lfcG9sbF9zdG9wKHN0cnVjdCBuYXBpX3N0cnVjdCAqbmFwaSwgdm9pZCAqaGF2
ZV9wb2xsX2xvY2spCiAKIHZvaWQgbmFwaV9idXN5X2xvb3AodW5zaWduZWQgaW50IG5hcGlfaWQs
CiAJCSAgICBib29sICgqbG9vcF9lbmQpKHZvaWQgKiwgdW5zaWduZWQgbG9uZyksCi0JCSAgICB2
b2lkICpsb29wX2VuZF9hcmcpCisJCSAgICB2b2lkICpsb29wX2VuZF9hcmcsIHUxNiBidWRnZXQp
CiB7CiAJdW5zaWduZWQgbG9uZyBzdGFydF90aW1lID0gbG9vcF9lbmQgPyBidXN5X2xvb3BfY3Vy
cmVudF90aW1lKCkgOiAwOwogCWludCAoKm5hcGlfcG9sbCkoc3RydWN0IG5hcGlfc3RydWN0ICpu
YXBpLCBpbnQgYnVkZ2V0KTsKQEAgLTY1OTEsOCArNjU4OSw4IEBAIHZvaWQgbmFwaV9idXN5X2xv
b3AodW5zaWduZWQgaW50IG5hcGlfaWQsCiAJCQkJCSAgICAgIEhSVElNRVJfTU9ERV9SRUxfUElO
TkVEKTsKIAkJCX0KIAkJfQotCQl3b3JrID0gbmFwaV9wb2xsKG5hcGksIEJVU1lfUE9MTF9CVURH
RVQpOwotCQl0cmFjZV9uYXBpX3BvbGwobmFwaSwgd29yaywgQlVTWV9QT0xMX0JVREdFVCk7CisJ
CXdvcmsgPSBuYXBpX3BvbGwobmFwaSwgYnVkZ2V0KTsKKwkJdHJhY2VfbmFwaV9wb2xsKG5hcGks
IHdvcmssIGJ1ZGdldCk7CiAJCWdyb19ub3JtYWxfbGlzdChuYXBpKTsKIGNvdW50OgogCQlpZiAo
d29yayA+IDApCkBAIC02NjA1LDcgKzY2MDMsNyBAQCB2b2lkIG5hcGlfYnVzeV9sb29wKHVuc2ln
bmVkIGludCBuYXBpX2lkLAogCiAJCWlmICh1bmxpa2VseShuZWVkX3Jlc2NoZWQoKSkpIHsKIAkJ
CWlmIChuYXBpX3BvbGwpCi0JCQkJYnVzeV9wb2xsX3N0b3AobmFwaSwgaGF2ZV9wb2xsX2xvY2sp
OworCQkJCWJ1c3lfcG9sbF9zdG9wKG5hcGksIGhhdmVfcG9sbF9sb2NrLCBidWRnZXQpOwogCQkJ
cHJlZW1wdF9lbmFibGUoKTsKIAkJCXJjdV9yZWFkX3VubG9jaygpOwogCQkJY29uZF9yZXNjaGVk
KCk7CkBAIC02NjE2LDcgKzY2MTQsNyBAQCB2b2lkIG5hcGlfYnVzeV9sb29wKHVuc2lnbmVkIGlu
dCBuYXBpX2lkLAogCQljcHVfcmVsYXgoKTsKIAl9CiAJaWYgKG5hcGlfcG9sbCkKLQkJYnVzeV9w
b2xsX3N0b3AobmFwaSwgaGF2ZV9wb2xsX2xvY2spOworCQlidXN5X3BvbGxfc3RvcChuYXBpLCBo
YXZlX3BvbGxfbG9jaywgYnVkZ2V0KTsKIAlwcmVlbXB0X2VuYWJsZSgpOwogb3V0OgogCXJjdV9y
ZWFkX3VubG9jaygpOwpkaWZmIC0tZ2l0IGEvbmV0L2NvcmUvc29jay5jIGIvbmV0L2NvcmUvc29j
ay5jCmluZGV4IDY4NmViNTU0OWI3OS4uNzk5MTI1ZGU0YWRkIDEwMDY0NAotLS0gYS9uZXQvY29y
ZS9zb2NrLmMKKysrIGIvbmV0L2NvcmUvc29jay5jCkBAIC0xMTY1LDYgKzExNjUsMTYgQEAgaW50
IHNvY2tfc2V0c29ja29wdChzdHJ1Y3Qgc29ja2V0ICpzb2NrLCBpbnQgbGV2ZWwsIGludCBvcHRu
YW1lLAogCQllbHNlCiAJCQlzay0+c2tfYmlhc19idXN5X3BvbGwgPSB2YWxib29sOwogCQlicmVh
azsKKwljYXNlIFNPX0JVU1lfUE9MTF9CVURHRVQ6CisJCWlmICgodmFsID4gc2stPnNrX2J1c3lf
cG9sbF9idWRnZXQpICYmICFjYXBhYmxlKENBUF9ORVRfQURNSU4pKQorCQkJcmV0ID0gLUVQRVJN
OworCQllbHNlIHsKKwkJCWlmICh2YWwgPCAwKQorCQkJCXJldCA9IC1FSU5WQUw7CisJCQllbHNl
CisJCQkJc2stPnNrX2J1c3lfcG9sbF9idWRnZXQgPSB2YWw7CisJCX0KKwkJYnJlYWs7CiAjZW5k
aWYKIAogCWNhc2UgU09fTUFYX1BBQ0lOR19SQVRFOgotLSAKMi4yNy4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC13aXJlZC1sYW4gbWFpbGlu
ZyBsaXN0CkludGVsLXdpcmVkLWxhbkBvc3Vvc2wub3JnCmh0dHBzOi8vbGlzdHMub3N1b3NsLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLXdpcmVkLWxhbgo=
