Return-Path: <intel-wired-lan-bounces@osuosl.org>
X-Original-To: lists+intel-wired-lan@lfdr.de
Delivered-To: lists+intel-wired-lan@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id 3FA3974A0EB
	for <lists+intel-wired-lan@lfdr.de>; Thu,  6 Jul 2023 17:26:50 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id CD0C260F6E;
	Thu,  6 Jul 2023 15:26:48 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org CD0C260F6E
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=osuosl.org;
	s=default; t=1688657208;
	bh=S2YquF6fVxj8v3gOLjoEnx3X32liAWqUwjIT23tK7U4=;
	h=References:In-Reply-To:From:Date:To:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Cc:From;
	b=g4VBgUDERW0b2c0kZoaB2FBEBpQRuhxwt8E8p3z3J/UwMbsj9reK0LCxpKU8jWv6F
	 wAMWHgdpJj8MZzDL2UCYHtFrPHDosbaShZ7yhMJgR5iyK6sam85kxo7+moTRJFsRUl
	 LO/h0gpfzYjfBucSSILfwfNo5saWlU1iwZlUFPPc8ZFZhnchSwI9z/YvaDbuyy8sEQ
	 Mb/6SoaKvHcRRPxmF5/2BTDtWijKKCR+UTbvurJJZ4wtld4Aalu4QA/CMJIvn4O3f+
	 ZKV2TatMto2oh0bF/owWxcp/eUTSv6cy59U6tHzSbrsi2w+H6vwFE5I9gCS3lcTqo9
	 sxuI6tTdH2VNA==
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CwAYB_q0q2Rc; Thu,  6 Jul 2023 15:26:47 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by smtp3.osuosl.org (Postfix) with ESMTP id 5898E60F30;
	Thu,  6 Jul 2023 15:26:46 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 5898E60F30
X-Original-To: intel-wired-lan@lists.osuosl.org
Delivered-To: intel-wired-lan@lists.osuosl.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by ash.osuosl.org (Postfix) with ESMTP id 495461BF39F
 for <intel-wired-lan@lists.osuosl.org>; Thu,  6 Jul 2023 15:26:41 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id 211EA60F30
 for <intel-wired-lan@lists.osuosl.org>; Thu,  6 Jul 2023 15:26:41 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 211EA60F30
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id a7yeJlEVpNKd for <intel-wired-lan@lists.osuosl.org>;
 Thu,  6 Jul 2023 15:26:38 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org BAC8360BD8
Received: from mail-pg1-x529.google.com (mail-pg1-x529.google.com
 [IPv6:2607:f8b0:4864:20::529])
 by smtp3.osuosl.org (Postfix) with ESMTPS id BAC8360BD8
 for <intel-wired-lan@lists.osuosl.org>; Thu,  6 Jul 2023 15:26:38 +0000 (UTC)
Received: by mail-pg1-x529.google.com with SMTP id
 41be03b00d2f7-5577900c06bso670967a12.2
 for <intel-wired-lan@lists.osuosl.org>; Thu, 06 Jul 2023 08:26:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1688657198; x=1691249198;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=d3GaQL1YsgC4+exc/fyFOlTGrEqs6W+W7mT+Az9NMp4=;
 b=Jod7S/O1TxeoYQ9WZ7J5A1J3w5E6Zp6F2yAFJkFF1+Hm4ox4nGURbcb0q+J5VsPq8R
 QkFIbxtMpnJm0K1K/2kBaf+bfueQOgGKxBxF7ZAi1oVMEaUlS0s0sCEfYjUAy72uLfMR
 znZ1i43oPdk7hx+NVx9Y0B6uMzcznaW5Fk9gH5T9cGwgZkpL8yMwPkayUW/WweUeTn/R
 KlsWRlx5lOPN8/WHZzk6wEz65m+7mZJDiH1ADXBDltLsrKJKQM5xbEy8ylFo4ONhZxt/
 vChV9vnz0uiDO56G5LtHlxyAtVIzuSmXk55BcibcU9B7X5q3zOTpUsHPiZ7JbqMoSWiK
 /dFQ==
X-Gm-Message-State: ABy/qLYxepAVgT6sQIF4BlVaMKFdbeklM0S61Aw5Lfza5EJ5dDKuhv4b
 VG0xWCZLJy9poz01B4ab4E+/dI00W/GCgXlxBiKIvCgw
X-Google-Smtp-Source: APBJJlGj0VZ/7XmCQecGUtaVbkl96xkZwp8rGPXoQJk4BL/vbSqCiLkf7C2z2Zq/pEGKLeY3I24+co3x2fUCZOlKDTg=
X-Received: by 2002:a05:6a20:610:b0:12d:c4fb:4884 with SMTP id
 16-20020a056a20061000b0012dc4fb4884mr1924490pzl.20.1688657197272; Thu, 06 Jul
 2023 08:26:37 -0700 (PDT)
MIME-Version: 1.0
References: <20230705155551.1317583-1-aleksander.lobakin@intel.com>
 <20230705155551.1317583-7-aleksander.lobakin@intel.com>
In-Reply-To: <20230705155551.1317583-7-aleksander.lobakin@intel.com>
From: Alexander Duyck <alexander.duyck@gmail.com>
Date: Thu, 6 Jul 2023 08:26:00 -0700
Message-ID: <CAKgT0Ud4h32UFwiUhcpLxSrPRMhbKYSDncL2YiursWgS7Qg7Ug@mail.gmail.com>
To: Alexander Lobakin <aleksander.lobakin@intel.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20221208; t=1688657198; x=1691249198;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=d3GaQL1YsgC4+exc/fyFOlTGrEqs6W+W7mT+Az9NMp4=;
 b=Txb0sitJkY/hth8WxQGOu70M4l/eHFIT07+ac7CKRzRDtjjf7LXodMNPrYgP9e2Frs
 UDsv/rGUxTSqymIeyw5Qy/S1aWnjSmbXuP1pIPuZ8t5yJztV6HrpfGxWTabdAoOgAict
 z1SvHBoRM+d9NktAaZNBehsq++F5doCeDnWtPzX568HhWggbn4hPokmhSj6oiQnr846T
 Co/80vQAY8HYlgAgXRzkjJLba13fsX92V4kIEIclnzj9qhOojv8VEBkofFZXewq1UKdS
 qzbrFRuRHW8HLPEwxI+g/1FwTK6Q2AxPpdFHetOjjtEieCGJF0zbCwCxh23DRTVChQFA
 yuxA==
X-Mailman-Original-Authentication-Results: smtp3.osuosl.org;
 dkim=pass (2048-bit key) header.d=gmail.com header.i=@gmail.com
 header.a=rsa-sha256 header.s=20221208 header.b=Txb0sitJ
Subject: Re: [Intel-wired-lan] [PATCH RFC net-next v4 6/9] iavf: switch to
 Page Pool
X-BeenThere: intel-wired-lan@osuosl.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel Wired Ethernet Linux Kernel Driver Development
 <intel-wired-lan.osuosl.org>
List-Unsubscribe: <https://lists.osuosl.org/mailman/options/intel-wired-lan>, 
 <mailto:intel-wired-lan-request@osuosl.org?subject=unsubscribe>
List-Archive: <http://lists.osuosl.org/pipermail/intel-wired-lan/>
List-Post: <mailto:intel-wired-lan@osuosl.org>
List-Help: <mailto:intel-wired-lan-request@osuosl.org?subject=help>
List-Subscribe: <https://lists.osuosl.org/mailman/listinfo/intel-wired-lan>,
 <mailto:intel-wired-lan-request@osuosl.org?subject=subscribe>
Cc: Paul Menzel <pmenzel@molgen.mpg.de>,
 Jesper Dangaard Brouer <hawk@kernel.org>,
 Larysa Zaremba <larysa.zaremba@intel.com>, netdev@vger.kernel.org,
 Alexander Duyck <alexanderduyck@fb.com>,
 Ilias Apalodimas <ilias.apalodimas@linaro.org>, linux-kernel@vger.kernel.org,
 Eric Dumazet <edumazet@google.com>, Michal Kubiak <michal.kubiak@intel.com>,
 intel-wired-lan@lists.osuosl.org, Yunsheng Lin <linyunsheng@huawei.com>,
 David Christensen <drc@linux.vnet.ibm.com>, Jakub Kicinski <kuba@kernel.org>,
 Paolo Abeni <pabeni@redhat.com>, "David S. Miller" <davem@davemloft.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-wired-lan-bounces@osuosl.org
Sender: "Intel-wired-lan" <intel-wired-lan-bounces@osuosl.org>

T24gV2VkLCBKdWwgNSwgMjAyMyBhdCA4OjU44oCvQU0gQWxleGFuZGVyIExvYmFraW4KPGFsZWtz
YW5kZXIubG9iYWtpbkBpbnRlbC5jb20+IHdyb3RlOgo+Cj4gTm93IHRoYXQgdGhlIElBVkYgZHJp
dmVyIHNpbXBseSB1c2VzIGRldl9hbGxvY19wYWdlKCkgKyBmcmVlX3BhZ2UoKSB3aXRoCj4gbm8g
Y3VzdG9tIHJlY3ljbGluZyBsb2dpY3MsIGl0IGNhbiBlYXNpbHkgYmUgc3dpdGNoZWQgdG8gdXNp
bmcgUGFnZQo+IFBvb2wgLyBsaWJpZSBBUEkgaW5zdGVhZC4KPiBUaGlzIGFsbG93cyB0byByZW1v
dmluZyB0aGUgd2hvbGUgZGFuY2luZyBhcm91bmQgaGVhZHJvb20sIEhXIGJ1ZmZlcgo+IHNpemUs
IGFuZCBwYWdlIG9yZGVyLiBBbGwgRE1BLWZvci1kZXZpY2UgaXMgbm93IGRvbmUgaW4gdGhlIFBQ
IGNvcmUsCj4gZm9yLUNQVSAtLSBpbiB0aGUgbGliaWUgaGVscGVyLgo+IFVzZSBza2JfbWFya19m
b3JfcmVjeWNsZSgpIHRvIGJyaW5nIGJhY2sgdGhlIHJlY3ljbGluZyBhbmQgcmVzdG9yZSB0aGUK
PiBwZXJmb3JtYW5jZS4gU3BlYWtpbmcgb2YgcGVyZm9ybWFuY2U6IG9uIHBhciB3aXRoIHRoZSBi
YXNlbGluZSBhbmQKPiBmYXN0ZXIgd2l0aCB0aGUgUFAgb3B0aW1pemF0aW9uIHNlcmllcyBhcHBs
aWVkLiBCdXQgdGhlIG1lbW9yeSB1c2FnZSBmb3IKPiAxNTAwYiBNVFUgaXMgbm93IGFsbW9zdCAy
eCBsb3dlciAoeDg2XzY0KSB0aGFua3MgdG8gYWxsb2NhdGluZyBhIHBhZ2UKPiBldmVyeSBzZWNv
bmQgZGVzY3JpcHRvci4KPgo+IFNpZ25lZC1vZmYtYnk6IEFsZXhhbmRlciBMb2Jha2luIDxhbGVr
c2FuZGVyLmxvYmFraW5AaW50ZWwuY29tPgoKT25lIHRoaW5nIEkgYW0gbm90aWNpbmcgaXMgdGhh
dCB0aGVyZSBzZWVtcyB0byBiZSBhIGJ1bmNoIG9mIGNsZWFudXAKY2hhbmdlcyBpbiBoZXJlIGFz
IHdlbGwuIFRoaW5ncyBsaWtlIG1vdmluZyBhcm91bmQgdmFsdWVzIHdpdGhpbgpzdHJ1Y3R1cmVz
IHdoaWNoIEkgYW0gYXNzdW1pbmcgYXJlIHRvIGZpbGwgaG9sZXMuIFlvdSBtYXkgd2FudCB0byBs
b29rCmF0IGJyZWFraW5nIHNvbWUgb2YgdGhvc2Ugb3V0IGFzIGl0IG1ha2VzIGl0IGEgYml0IGhh
cmRlciB0byByZXZpZXcKdGhpcyBzaW5jZSB0aGV5IHNlZW0gbGlrZSB1bnJlbGF0ZWQgY2hhbmdl
cy4KCj4gLS0tCj4gIGRyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2Zl9tYWluLmMg
ICB8ICAzMyArLS0KPiAgZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWF2Zi9pYXZmX3R4cngu
YyAgIHwgMjQ3ICsrKysrLS0tLS0tLS0tLS0tLQo+ICBkcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRl
bC9pYXZmL2lhdmZfdHhyeC5oICAgfCAgOTEgKy0tLS0tLQo+ICBkcml2ZXJzL25ldC9ldGhlcm5l
dC9pbnRlbC9pYXZmL2lhdmZfdHlwZS5oICAgfCAgIDIgLQo+ICAuLi4vbmV0L2V0aGVybmV0L2lu
dGVsL2lhdmYvaWF2Zl92aXJ0Y2hubC5jICAgfCAgMTkgKy0KPiAgNSBmaWxlcyBjaGFuZ2VkLCA4
MiBpbnNlcnRpb25zKCspLCAzMTAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9uZXQvZXRoZXJuZXQvaW50ZWwvaWF2Zi9pYXZmX21haW4uYyBiL2RyaXZlcnMvbmV0L2V0aGVy
bmV0L2ludGVsL2lhdmYvaWF2Zl9tYWluLmMKPiBpbmRleCBkYjFlZDEzZjExYmIuLjM5YzZkODNl
ODBhMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZf
bWFpbi5jCj4gKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWF2Zi9pYXZmX21haW4u
Ywo+IEBAIC0xLDYgKzEsOCBAQAo+ICAvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MAo+ICAvKiBDb3B5cmlnaHQoYykgMjAxMyAtIDIwMTggSW50ZWwgQ29ycG9yYXRpb24uICovCj4K
PiArI2luY2x1ZGUgPGxpbnV4L25ldC9pbnRlbC9saWJpZS9yeC5oPgo+ICsKPiAgI2luY2x1ZGUg
ImlhdmYuaCIKPiAgI2luY2x1ZGUgImlhdmZfcHJvdG90eXBlLmgiCj4gICNpbmNsdWRlICJpYXZm
X2NsaWVudC5oIgo+IEBAIC02OTgsMzIgKzcwMCwxMCBAQCBzdGF0aWMgdm9pZCBpYXZmX2NvbmZp
Z3VyZV90eChzdHJ1Y3QgaWF2Zl9hZGFwdGVyICphZGFwdGVyKQo+ICAgKiovCj4gIHN0YXRpYyB2
b2lkIGlhdmZfY29uZmlndXJlX3J4KHN0cnVjdCBpYXZmX2FkYXB0ZXIgKmFkYXB0ZXIpCj4gIHsK
PiAtICAgICAgIHVuc2lnbmVkIGludCByeF9idWZfbGVuID0gSUFWRl9SWEJVRkZFUl8yMDQ4Owo+
ICAgICAgICAgc3RydWN0IGlhdmZfaHcgKmh3ID0gJmFkYXB0ZXItPmh3Owo+IC0gICAgICAgaW50
IGk7Cj4gLQo+IC0gICAgICAgaWYgKFBBR0VfU0laRSA8IDgxOTIpIHsKPiAtICAgICAgICAgICAg
ICAgc3RydWN0IG5ldF9kZXZpY2UgKm5ldGRldiA9IGFkYXB0ZXItPm5ldGRldjsKPgo+IC0gICAg
ICAgICAgICAgICAvKiBGb3IganVtYm8gZnJhbWVzIG9uIHN5c3RlbXMgd2l0aCA0SyBwYWdlcyB3
ZSBoYXZlIHRvIHVzZQo+IC0gICAgICAgICAgICAgICAgKiBhbiBvcmRlciAxIHBhZ2UsIHNvIHdl
IG1pZ2h0IGFzIHdlbGwgaW5jcmVhc2UgdGhlIHNpemUKPiAtICAgICAgICAgICAgICAgICogb2Yg
b3VyIFJ4IGJ1ZmZlciB0byBtYWtlIGJldHRlciB1c2Ugb2YgdGhlIGF2YWlsYWJsZSBzcGFjZQo+
IC0gICAgICAgICAgICAgICAgKi8KPiAtICAgICAgICAgICAgICAgcnhfYnVmX2xlbiA9IElBVkZf
UlhCVUZGRVJfMzA3MjsKPiAtCj4gLSAgICAgICAgICAgICAgIC8qIFdlIHVzZSBhIDE1MzYgYnVm
ZmVyIHNpemUgZm9yIGNvbmZpZ3VyYXRpb25zIHdpdGgKPiAtICAgICAgICAgICAgICAgICogc3Rh
bmRhcmQgRXRoZXJuZXQgbXR1LiAgT24geDg2IHRoaXMgZ2l2ZXMgdXMgZW5vdWdoIHJvb20KPiAt
ICAgICAgICAgICAgICAgICogZm9yIHNoYXJlZCBpbmZvIGFuZCAxOTIgYnl0ZXMgb2YgcGFkZGlu
Zy4KPiAtICAgICAgICAgICAgICAgICovCj4gLSAgICAgICAgICAgICAgIGlmICghSUFWRl8yS19U
T09fU01BTExfV0lUSF9QQURESU5HICYmCj4gLSAgICAgICAgICAgICAgICAgICAobmV0ZGV2LT5t
dHUgPD0gRVRIX0RBVEFfTEVOKSkKPiAtICAgICAgICAgICAgICAgICAgICAgICByeF9idWZfbGVu
ID0gSUFWRl9SWEJVRkZFUl8xNTM2IC0gTkVUX0lQX0FMSUdOOwo+IC0gICAgICAgfQo+IC0KPiAt
ICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGFwdGVyLT5udW1fYWN0aXZlX3F1ZXVlczsgaSsrKSB7
Cj4gKyAgICAgICBmb3IgKHUzMiBpID0gMDsgaSA8IGFkYXB0ZXItPm51bV9hY3RpdmVfcXVldWVz
OyBpKyspCj4gICAgICAgICAgICAgICAgIGFkYXB0ZXItPnJ4X3JpbmdzW2ldLnRhaWwgPSBody0+
aHdfYWRkciArIElBVkZfUVJYX1RBSUwxKGkpOwo+IC0gICAgICAgICAgICAgICBhZGFwdGVyLT5y
eF9yaW5nc1tpXS5yeF9idWZfbGVuID0gcnhfYnVmX2xlbjsKPiAtICAgICAgIH0KPiAgfQo+Cj4g
IC8qKgo+IEBAIC0xNTkwLDcgKzE1NzAsNiBAQCBzdGF0aWMgaW50IGlhdmZfYWxsb2NfcXVldWVz
KHN0cnVjdCBpYXZmX2FkYXB0ZXIgKmFkYXB0ZXIpCj4gICAgICAgICAgICAgICAgIHJ4X3Jpbmcg
PSAmYWRhcHRlci0+cnhfcmluZ3NbaV07Cj4gICAgICAgICAgICAgICAgIHJ4X3JpbmctPnF1ZXVl
X2luZGV4ID0gaTsKPiAgICAgICAgICAgICAgICAgcnhfcmluZy0+bmV0ZGV2ID0gYWRhcHRlci0+
bmV0ZGV2Owo+IC0gICAgICAgICAgICAgICByeF9yaW5nLT5kZXYgPSAmYWRhcHRlci0+cGRldi0+
ZGV2Owo+ICAgICAgICAgICAgICAgICByeF9yaW5nLT5jb3VudCA9IGFkYXB0ZXItPnJ4X2Rlc2Nf
Y291bnQ7Cj4gICAgICAgICAgICAgICAgIHJ4X3JpbmctPml0cl9zZXR0aW5nID0gSUFWRl9JVFJf
UlhfREVGOwo+ICAgICAgICAgfQo+IEBAIC0yNTYyLDExICsyNTQxLDcgQEAgc3RhdGljIHZvaWQg
aWF2Zl9pbml0X2NvbmZpZ19hZGFwdGVyKHN0cnVjdCBpYXZmX2FkYXB0ZXIgKmFkYXB0ZXIpCj4K
PiAgICAgICAgIG5ldGRldi0+bmV0ZGV2X29wcyA9ICZpYXZmX25ldGRldl9vcHM7Cj4gICAgICAg
ICBpYXZmX3NldF9ldGh0b29sX29wcyhuZXRkZXYpOwo+IC0gICAgICAgbmV0ZGV2LT53YXRjaGRv
Z190aW1lbyA9IDUgKiBIWjsKPiAtCgpUaGVzZSByZW1vdmFscyBzaG91bGQgYmUgcHVsbGVkIG91
dCBpbnRvIGEgc2VwZXJhdGUgcGF0Y2ggd2hlcmUgd2UgY2FuCmNhbGwgb3V0IHRoYXQgdGhleSBh
cmUgbm90IG5lZWRlZCBkdWUgdG8gcmVkdW5kYW5jaWVzIHcvIG90aGVyIGNvZGUgb24KdGhlIGNv
cmUgbmV0d29yayBjb2RlLgoKPiAtICAgICAgIC8qIE1UVSByYW5nZTogNjggLSA5NzEwICovCj4g
LSAgICAgICBuZXRkZXYtPm1pbl9tdHUgPSBFVEhfTUlOX01UVTsKPiAtICAgICAgIG5ldGRldi0+
bWF4X210dSA9IElBVkZfTUFYX1JYQlVGRkVSIC0gSUFWRl9QQUNLRVRfSERSX1BBRDsKPiArICAg
ICAgIG5ldGRldi0+bWF4X210dSA9IExJQklFX01BWF9NVFU7CgpTYW1lIGhlcmUgZm9yIG1pbl9t
dHUuCgo+Cj4gICAgICAgICBpZiAoIWlzX3ZhbGlkX2V0aGVyX2FkZHIoYWRhcHRlci0+aHcubWFj
LmFkZHIpKSB7Cj4gICAgICAgICAgICAgICAgIGRldl9pbmZvKCZwZGV2LT5kZXYsICJJbnZhbGlk
IE1BQyBhZGRyZXNzICVwTSwgdXNpbmcgcmFuZG9tXG4iLAo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdHhyeC5jIGIvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvaW50ZWwvaWF2Zi9pYXZmX3R4cnguYwo+IGluZGV4IDc4OWIxMDgxNWQ3Zi4uZDE0OTFiNDgx
ZWFjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2Zl90
eHJ4LmMKPiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdHhyeC5j
Cj4gQEAgLTY4OSw5ICs2ODksNiBAQCBpbnQgaWF2Zl9zZXR1cF90eF9kZXNjcmlwdG9ycyhzdHJ1
Y3QgaWF2Zl9yaW5nICp0eF9yaW5nKQo+ICAgKiovCj4gIHN0YXRpYyB2b2lkIGlhdmZfY2xlYW5f
cnhfcmluZyhzdHJ1Y3QgaWF2Zl9yaW5nICpyeF9yaW5nKQo+ICB7Cj4gLSAgICAgICB1bnNpZ25l
ZCBsb25nIGJpX3NpemU7Cj4gLSAgICAgICB1MTYgaTsKPiAtCj4gICAgICAgICAvKiByaW5nIGFs
cmVhZHkgY2xlYXJlZCwgbm90aGluZyB0byBkbyAqLwo+ICAgICAgICAgaWYgKCFyeF9yaW5nLT5y
eF9iaSkKPiAgICAgICAgICAgICAgICAgcmV0dXJuOwo+IEBAIC03MDEsNDAgKzY5OCwxNiBAQCBz
dGF0aWMgdm9pZCBpYXZmX2NsZWFuX3J4X3Jpbmcoc3RydWN0IGlhdmZfcmluZyAqcnhfcmluZykK
PiAgICAgICAgICAgICAgICAgcnhfcmluZy0+c2tiID0gTlVMTDsKPiAgICAgICAgIH0KPgo+IC0g
ICAgICAgLyogRnJlZSBhbGwgdGhlIFJ4IHJpbmcgc2tfYnVmZnMgKi8KPiAtICAgICAgIGZvciAo
aSA9IDA7IGkgPCByeF9yaW5nLT5jb3VudDsgaSsrKSB7Cj4gLSAgICAgICAgICAgICAgIHN0cnVj
dCBpYXZmX3J4X2J1ZmZlciAqcnhfYmkgPSAmcnhfcmluZy0+cnhfYmlbaV07Cj4gKyAgICAgICAv
KiBGcmVlIGFsbCB0aGUgUnggcmluZyBidWZmZXJzICovCj4gKyAgICAgICBmb3IgKHUzMiBpID0g
cnhfcmluZy0+bmV4dF90b19jbGVhbjsgaSAhPSByeF9yaW5nLT5uZXh0X3RvX3VzZTsgKSB7Cj4g
KyAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBsaWJpZV9yeF9idWZmZXIgKnJ4X2JpID0gJnJ4
X3JpbmctPnJ4X2JpW2ldOwo+Cj4gLSAgICAgICAgICAgICAgIGlmICghcnhfYmktPnBhZ2UpCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gKyAgICAgICAgICAgICAgIHBhZ2Vf
cG9vbF9wdXRfZnVsbF9wYWdlKHJ4X3JpbmctPnBwLCByeF9iaS0+cGFnZSwgZmFsc2UpOwo+Cj4g
LSAgICAgICAgICAgICAgIC8qIEludmFsaWRhdGUgY2FjaGUgbGluZXMgdGhhdCBtYXkgaGF2ZSBi
ZWVuIHdyaXR0ZW4gdG8gYnkKPiAtICAgICAgICAgICAgICAgICogZGV2aWNlIHNvIHRoYXQgd2Ug
YXZvaWQgY29ycnVwdGluZyBtZW1vcnkuCj4gLSAgICAgICAgICAgICAgICAqLwo+IC0gICAgICAg
ICAgICAgICBkbWFfc3luY19zaW5nbGVfcmFuZ2VfZm9yX2NwdShyeF9yaW5nLT5kZXYsCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4X2JpLT5kbWEsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4X2JpLT5wYWdl
X29mZnNldCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cnhfcmluZy0+cnhfYnVmX2xlbiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgRE1BX0ZST01fREVWSUNFKTsKPiAtCj4gLSAgICAgICAgICAgICAgIC8qIGZy
ZWUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCBtYXBwaW5nICovCj4gLSAgICAgICAgICAgICAg
IGRtYV91bm1hcF9wYWdlX2F0dHJzKHJ4X3JpbmctPmRldiwgcnhfYmktPmRtYSwKPiAtICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWF2Zl9yeF9wZ19zaXplKHJ4X3JpbmcpLAo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBETUFfRlJPTV9ERVZJQ0UsCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElBVkZfUlhfRE1BX0FUVFIpOwo+
IC0KPiAtICAgICAgICAgICAgICAgX19mcmVlX3BhZ2VzKHJ4X2JpLT5wYWdlLCBpYXZmX3J4X3Bn
X29yZGVyKHJ4X3JpbmcpKTsKPiAtCj4gLSAgICAgICAgICAgICAgIHJ4X2JpLT5wYWdlID0gTlVM
TDsKPiAtICAgICAgICAgICAgICAgcnhfYmktPnBhZ2Vfb2Zmc2V0ID0gMDsKPiArICAgICAgICAg
ICAgICAgaWYgKHVubGlrZWx5KCsraSA9PSByeF9yaW5nLT5jb3VudCkpCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgaSA9IDA7Cj4gICAgICAgICB9Cj4KPiAtICAgICAgIGJpX3NpemUgPSBzaXpl
b2Yoc3RydWN0IGlhdmZfcnhfYnVmZmVyKSAqIHJ4X3JpbmctPmNvdW50Owo+IC0gICAgICAgbWVt
c2V0KHJ4X3JpbmctPnJ4X2JpLCAwLCBiaV9zaXplKTsKPiAtCj4gLSAgICAgICAvKiBaZXJvIG91
dCB0aGUgZGVzY3JpcHRvciByaW5nICovCj4gLSAgICAgICBtZW1zZXQocnhfcmluZy0+ZGVzYywg
MCwgcnhfcmluZy0+c2l6ZSk7Cj4gLQoKSSBoYXZlIHNvbWUgbWlzZ2l2aW5ncyBhYm91dCBub3Qg
Y2xlYXJpbmcgdGhlc2UuIFdlIG1heSB3YW50IHRvIGRvdWJsZQpjaGVjayB0byB2ZXJpZnkgdGhl
IGNvZGUgcGF0aHMgYXJlIHJlc2lsaWVudCBlbm91Z2ggdGhhdCBpdCB3b24ndApjYXVzZSBhbnkg
aXNzdWVzIHcvIHJlcGVhdGVkIHVwL2Rvd24gdGVzdGluZyBvbiB0aGUgaW50ZXJmYWNlLiBUaGUK
Z2VuZXJhbCBpZGVhIGlzIHRvIGtlZXAgdGhpbmdzIGNvbnNpc3RlbnQgdy8gdGhlIHN0YXRlIGFm
dGVyCnNldHVwX3J4X2Rlc2NyaXB0b3JzLiBJZiB3ZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3ZSBk
b24ndCBuZWVkIHRvIGJlCmNhbGxpbmcgdGhlIHphbGxvYyBvciBjYWxsb2MgdmVyc2lvbiBvZiB0
aGluZ3MgaW4Kc2V0dXBfcnhfZGVzY3JpcHRvcnMuCgoKPiAgICAgICAgIHJ4X3JpbmctPm5leHRf
dG9fY2xlYW4gPSAwOwo+ICAgICAgICAgcnhfcmluZy0+bmV4dF90b191c2UgPSAwOwo+ICB9Cj4g
QEAgLTc1MiwxMCArNzI1LDEzIEBAIHZvaWQgaWF2Zl9mcmVlX3J4X3Jlc291cmNlcyhzdHJ1Y3Qg
aWF2Zl9yaW5nICpyeF9yaW5nKQo+ICAgICAgICAgcnhfcmluZy0+cnhfYmkgPSBOVUxMOwo+Cj4g
ICAgICAgICBpZiAocnhfcmluZy0+ZGVzYykgewo+IC0gICAgICAgICAgICAgICBkbWFfZnJlZV9j
b2hlcmVudChyeF9yaW5nLT5kZXYsIHJ4X3JpbmctPnNpemUsCj4gKyAgICAgICAgICAgICAgIGRt
YV9mcmVlX2NvaGVyZW50KHJ4X3JpbmctPnBwLT5wLmRldiwgcnhfcmluZy0+c2l6ZSwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnhfcmluZy0+ZGVzYywgcnhfcmluZy0+ZG1h
KTsKPiAgICAgICAgICAgICAgICAgcnhfcmluZy0+ZGVzYyA9IE5VTEw7Cj4gICAgICAgICB9Cj4g
Kwo+ICsgICAgICAgcGFnZV9wb29sX2Rlc3Ryb3kocnhfcmluZy0+cHApOwo+ICsgICAgICAgcnhf
cmluZy0+cHAgPSBOVUxMOwo+ICB9Cj4KPiAgLyoqCj4gQEAgLTc2NiwxMyArNzQyLDE5IEBAIHZv
aWQgaWF2Zl9mcmVlX3J4X3Jlc291cmNlcyhzdHJ1Y3QgaWF2Zl9yaW5nICpyeF9yaW5nKQo+ICAg
KiovCj4gIGludCBpYXZmX3NldHVwX3J4X2Rlc2NyaXB0b3JzKHN0cnVjdCBpYXZmX3JpbmcgKnJ4
X3JpbmcpCj4gIHsKPiAtICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9IHJ4X3JpbmctPmRldjsK
PiAtICAgICAgIGludCBiaV9zaXplOwo+ICsgICAgICAgc3RydWN0IHBhZ2VfcG9vbCAqcG9vbDsK
PiArCj4gKyAgICAgICBwb29sID0gbGliaWVfcnhfcGFnZV9wb29sX2NyZWF0ZSgmcnhfcmluZy0+
cV92ZWN0b3ItPm5hcGksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICByeF9yaW5nLT5jb3VudCk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHBvb2wpKQo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gUFRSX0VSUihwb29sKTsKPiArCj4gKyAgICAgICByeF9yaW5nLT5wcCA9
IHBvb2w7Cj4KPiAgICAgICAgIC8qIHdhcm4gaWYgd2UgYXJlIGFib3V0IHRvIG92ZXJ3cml0ZSB0
aGUgcG9pbnRlciAqLwo+ICAgICAgICAgV0FSTl9PTihyeF9yaW5nLT5yeF9iaSk7Cj4gLSAgICAg
ICBiaV9zaXplID0gc2l6ZW9mKHN0cnVjdCBpYXZmX3J4X2J1ZmZlcikgKiByeF9yaW5nLT5jb3Vu
dDsKPiAtICAgICAgIHJ4X3JpbmctPnJ4X2JpID0ga3phbGxvYyhiaV9zaXplLCBHRlBfS0VSTkVM
KTsKPiArICAgICAgIHJ4X3JpbmctPnJ4X2JpID0ga2NhbGxvYyhyeF9yaW5nLT5jb3VudCwgc2l6
ZW9mKCpyeF9yaW5nLT5yeF9iaSksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
R0ZQX0tFUk5FTCk7Cj4gICAgICAgICBpZiAoIXJ4X3JpbmctPnJ4X2JpKQo+ICAgICAgICAgICAg
ICAgICBnb3RvIGVycjsKPgo+IEBAIC03ODEsMjIgKzc2MywyNyBAQCBpbnQgaWF2Zl9zZXR1cF9y
eF9kZXNjcmlwdG9ycyhzdHJ1Y3QgaWF2Zl9yaW5nICpyeF9yaW5nKQo+ICAgICAgICAgLyogUm91
bmQgdXAgdG8gbmVhcmVzdCA0SyAqLwo+ICAgICAgICAgcnhfcmluZy0+c2l6ZSA9IHJ4X3Jpbmct
PmNvdW50ICogc2l6ZW9mKHVuaW9uIGlhdmZfMzJieXRlX3J4X2Rlc2MpOwo+ICAgICAgICAgcnhf
cmluZy0+c2l6ZSA9IEFMSUdOKHJ4X3JpbmctPnNpemUsIDQwOTYpOwo+IC0gICAgICAgcnhfcmlu
Zy0+ZGVzYyA9IGRtYV9hbGxvY19jb2hlcmVudChkZXYsIHJ4X3JpbmctPnNpemUsCj4gKyAgICAg
ICByeF9yaW5nLT5kZXNjID0gZG1hX2FsbG9jX2NvaGVyZW50KHBvb2wtPnAuZGV2LCByeF9yaW5n
LT5zaXplLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmcnhf
cmluZy0+ZG1hLCBHRlBfS0VSTkVMKTsKPgo+ICAgICAgICAgaWYgKCFyeF9yaW5nLT5kZXNjKSB7
Cj4gLSAgICAgICAgICAgICAgIGRldl9pbmZvKGRldiwgIlVuYWJsZSB0byBhbGxvY2F0ZSBtZW1v
cnkgZm9yIHRoZSBSeCBkZXNjcmlwdG9yIHJpbmcsIHNpemU9JWRcbiIsCj4gKyAgICAgICAgICAg
ICAgIGRldl9pbmZvKHBvb2wtPnAuZGV2LCAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBmb3Ig
dGhlIFJ4IGRlc2NyaXB0b3IgcmluZywgc2l6ZT0lZFxuIiwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgcnhfcmluZy0+c2l6ZSk7Cj4gLSAgICAgICAgICAgICAgIGdvdG8gZXJyOwo+ICsgICAg
ICAgICAgICAgICBnb3RvIGVycl9mcmVlX2J1ZjsKPiAgICAgICAgIH0KPgo+ICAgICAgICAgcnhf
cmluZy0+bmV4dF90b19jbGVhbiA9IDA7Cj4gICAgICAgICByeF9yaW5nLT5uZXh0X3RvX3VzZSA9
IDA7Cj4KPiAgICAgICAgIHJldHVybiAwOwo+IC1lcnI6Cj4gKwo+ICtlcnJfZnJlZV9idWY6Cj4g
ICAgICAgICBrZnJlZShyeF9yaW5nLT5yeF9iaSk7Cj4gICAgICAgICByeF9yaW5nLT5yeF9iaSA9
IE5VTEw7Cj4gKwo+ICtlcnI6Cj4gKyAgICAgICBwYWdlX3Bvb2xfZGVzdHJveShyeF9yaW5nLT5w
cCk7Cj4gKwo+ICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gIH0KPgo+IEBAIC04MTgsNDkgKzgw
NSw2IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBpYXZmX3JlbGVhc2VfcnhfZGVzYyhzdHJ1Y3QgaWF2
Zl9yaW5nICpyeF9yaW5nLCB1MzIgdmFsKQo+ICAgICAgICAgd3JpdGVsKHZhbCwgcnhfcmluZy0+
dGFpbCk7Cj4gIH0KPgo+IC0vKioKPiAtICogaWF2Zl9hbGxvY19tYXBwZWRfcGFnZSAtIHJlY3lj
bGUgb3IgbWFrZSBhIG5ldyBwYWdlCj4gLSAqIEByeF9yaW5nOiByaW5nIHRvIHVzZQo+IC0gKiBA
Ymk6IHJ4X2J1ZmZlciBzdHJ1Y3QgdG8gbW9kaWZ5Cj4gLSAqCj4gLSAqIFJldHVybnMgdHJ1ZSBp
ZiB0aGUgcGFnZSB3YXMgc3VjY2Vzc2Z1bGx5IGFsbG9jYXRlZCBvcgo+IC0gKiByZXVzZWQuCj4g
LSAqKi8KPiAtc3RhdGljIGJvb2wgaWF2Zl9hbGxvY19tYXBwZWRfcGFnZShzdHJ1Y3QgaWF2Zl9y
aW5nICpyeF9yaW5nLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGlhdmZfcnhfYnVmZmVyICpiaSkKPiAtewo+IC0gICAgICAgc3RydWN0IHBhZ2UgKnBhZ2UgPSBi
aS0+cGFnZTsKPiAtICAgICAgIGRtYV9hZGRyX3QgZG1hOwo+IC0KPiAtICAgICAgIC8qIGFsbG9j
IG5ldyBwYWdlIGZvciBzdG9yYWdlICovCj4gLSAgICAgICBwYWdlID0gZGV2X2FsbG9jX3BhZ2Vz
KGlhdmZfcnhfcGdfb3JkZXIocnhfcmluZykpOwo+IC0gICAgICAgaWYgKHVubGlrZWx5KCFwYWdl
KSkgewo+IC0gICAgICAgICAgICAgICByeF9yaW5nLT5yeF9zdGF0cy5hbGxvY19wYWdlX2ZhaWxl
ZCsrOwo+IC0gICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7Cj4gLSAgICAgICB9Cj4gLQo+IC0g
ICAgICAgLyogbWFwIHBhZ2UgZm9yIHVzZSAqLwo+IC0gICAgICAgZG1hID0gZG1hX21hcF9wYWdl
X2F0dHJzKHJ4X3JpbmctPmRldiwgcGFnZSwgMCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBpYXZmX3J4X3BnX3NpemUocnhfcmluZyksCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgRE1BX0ZST01fREVWSUNFLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIElBVkZfUlhfRE1BX0FUVFIpOwo+IC0KPiAtICAgICAgIC8qIGlmIG1hcHBpbmcgZmFp
bGVkIGZyZWUgbWVtb3J5IGJhY2sgdG8gc3lzdGVtIHNpbmNlCj4gLSAgICAgICAgKiB0aGVyZSBp
c24ndCBtdWNoIHBvaW50IGluIGhvbGRpbmcgbWVtb3J5IHdlIGNhbid0IHVzZQo+IC0gICAgICAg
ICovCj4gLSAgICAgICBpZiAoZG1hX21hcHBpbmdfZXJyb3IocnhfcmluZy0+ZGV2LCBkbWEpKSB7
Cj4gLSAgICAgICAgICAgICAgIF9fZnJlZV9wYWdlcyhwYWdlLCBpYXZmX3J4X3BnX29yZGVyKHJ4
X3JpbmcpKTsKPiAtICAgICAgICAgICAgICAgcnhfcmluZy0+cnhfc3RhdHMuYWxsb2NfcGFnZV9m
YWlsZWQrKzsKPiAtICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+IC0gICAgICAgfQo+IC0K
PiAtICAgICAgIGJpLT5kbWEgPSBkbWE7Cj4gLSAgICAgICBiaS0+cGFnZSA9IHBhZ2U7Cj4gLSAg
ICAgICBiaS0+cGFnZV9vZmZzZXQgPSBJQVZGX1NLQl9QQUQ7Cj4gLQo+IC0gICAgICAgcmV0dXJu
IHRydWU7Cj4gLX0KPiAtCj4gIC8qKgo+ICAgKiBpYXZmX3JlY2VpdmVfc2tiIC0gU2VuZCBhIGNv
bXBsZXRlZCBwYWNrZXQgdXAgdGhlIHN0YWNrCj4gICAqIEByeF9yaW5nOiAgcnggcmluZyBpbiBw
bGF5Cj4gQEAgLTg5MywzNiArODM3LDI5IEBAIGJvb2wgaWF2Zl9hbGxvY19yeF9idWZmZXJzKHN0
cnVjdCBpYXZmX3JpbmcgKnJ4X3JpbmcsIHUxNiBjbGVhbmVkX2NvdW50KQo+ICB7Cj4gICAgICAg
ICB1MTYgbnR1ID0gcnhfcmluZy0+bmV4dF90b191c2U7Cj4gICAgICAgICB1bmlvbiBpYXZmX3J4
X2Rlc2MgKnJ4X2Rlc2M7Cj4gLSAgICAgICBzdHJ1Y3QgaWF2Zl9yeF9idWZmZXIgKmJpOwo+Cj4g
ICAgICAgICAvKiBkbyBub3RoaW5nIGlmIG5vIHZhbGlkIG5ldGRldiBkZWZpbmVkICovCj4gICAg
ICAgICBpZiAoIXJ4X3JpbmctPm5ldGRldiB8fCAhY2xlYW5lZF9jb3VudCkKPiAgICAgICAgICAg
ICAgICAgcmV0dXJuIGZhbHNlOwo+Cj4gICAgICAgICByeF9kZXNjID0gSUFWRl9SWF9ERVNDKHJ4
X3JpbmcsIG50dSk7Cj4gLSAgICAgICBiaSA9ICZyeF9yaW5nLT5yeF9iaVtudHVdOwo+Cj4gICAg
ICAgICBkbyB7Cj4gLSAgICAgICAgICAgICAgIGlmICghaWF2Zl9hbGxvY19tYXBwZWRfcGFnZShy
eF9yaW5nLCBiaSkpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgZ290byBub19idWZmZXJzOwo+
ICsgICAgICAgICAgICAgICBkbWFfYWRkcl90IGFkZHI7Cj4KPiAtICAgICAgICAgICAgICAgLyog
c3luYyB0aGUgYnVmZmVyIGZvciB1c2UgYnkgdGhlIGRldmljZSAqLwo+IC0gICAgICAgICAgICAg
ICBkbWFfc3luY19zaW5nbGVfcmFuZ2VfZm9yX2RldmljZShyeF9yaW5nLT5kZXYsIGJpLT5kbWEs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpLT5w
YWdlX29mZnNldCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcnhfcmluZy0+cnhfYnVmX2xlbiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgRE1BX0ZST01fREVWSUNFKTsKPiArICAgICAgICAgICAgICAg
YWRkciA9IGxpYmllX3J4X2FsbG9jKHJ4X3JpbmctPnBwLCAmcnhfcmluZy0+cnhfYmlbbnR1XSk7
Cj4gKyAgICAgICAgICAgICAgIGlmICh1bmxpa2VseShhZGRyID09IERNQV9NQVBQSU5HX0VSUk9S
KSkKPiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG5vX2J1ZmZlcnM7Cj4KPiAgICAgICAg
ICAgICAgICAgLyogUmVmcmVzaCB0aGUgZGVzYyBldmVuIGlmIGJ1ZmZlcl9hZGRycyBkaWRuJ3Qg
Y2hhbmdlCj4gICAgICAgICAgICAgICAgICAqIGJlY2F1c2UgZWFjaCB3cml0ZS1iYWNrIGVyYXNl
cyB0aGlzIGluZm8uCj4gICAgICAgICAgICAgICAgICAqLwo+IC0gICAgICAgICAgICAgICByeF9k
ZXNjLT5yZWFkLnBrdF9hZGRyID0gY3B1X3RvX2xlNjQoYmktPmRtYSArIGJpLT5wYWdlX29mZnNl
dCk7Cj4gKyAgICAgICAgICAgICAgIHJ4X2Rlc2MtPnJlYWQucGt0X2FkZHIgPSBjcHVfdG9fbGU2
NChhZGRyKTsKPgo+ICAgICAgICAgICAgICAgICByeF9kZXNjKys7Cj4gLSAgICAgICAgICAgICAg
IGJpKys7Cj4gICAgICAgICAgICAgICAgIG50dSsrOwo+ICAgICAgICAgICAgICAgICBpZiAodW5s
aWtlbHkobnR1ID09IHJ4X3JpbmctPmNvdW50KSkgewo+ICAgICAgICAgICAgICAgICAgICAgICAg
IHJ4X2Rlc2MgPSBJQVZGX1JYX0RFU0MocnhfcmluZywgMCk7Cj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgYmkgPSByeF9yaW5nLT5yeF9iaTsKPiAgICAgICAgICAgICAgICAgICAgICAgICBudHUg
PSAwOwo+ICAgICAgICAgICAgICAgICB9Cj4KCgoKPiBAQCAtOTQxLDYgKzg3OCw4IEBAIGJvb2wg
aWF2Zl9hbGxvY19yeF9idWZmZXJzKHN0cnVjdCBpYXZmX3JpbmcgKnJ4X3JpbmcsIHUxNiBjbGVh
bmVkX2NvdW50KQo+ICAgICAgICAgaWYgKHJ4X3JpbmctPm5leHRfdG9fdXNlICE9IG50dSkKPiAg
ICAgICAgICAgICAgICAgaWF2Zl9yZWxlYXNlX3J4X2Rlc2MocnhfcmluZywgbnR1KTsKPgo+ICsg
ICAgICAgcnhfcmluZy0+cnhfc3RhdHMuYWxsb2NfcGFnZV9mYWlsZWQrKzsKPiArCj4gICAgICAg
ICAvKiBtYWtlIHN1cmUgdG8gY29tZSBiYWNrIHZpYSBwb2xsaW5nIHRvIHRyeSBhZ2FpbiBhZnRl
cgo+ICAgICAgICAgICogYWxsb2NhdGlvbiBmYWlsdXJlCj4gICAgICAgICAgKi8KPiBAQCAtMTA5
MSw5ICsxMDMwLDggQEAgc3RhdGljIGJvb2wgaWF2Zl9jbGVhbnVwX2hlYWRlcnMoc3RydWN0IGlh
dmZfcmluZyAqcnhfcmluZywgc3RydWN0IHNrX2J1ZmYgKnNrYikKPgo+ICAvKioKPiAgICogaWF2
Zl9hZGRfcnhfZnJhZyAtIEFkZCBjb250ZW50cyBvZiBSeCBidWZmZXIgdG8gc2tfYnVmZgo+IC0g
KiBAcnhfcmluZzogcnggZGVzY3JpcHRvciByaW5nIHRvIHRyYW5zYWN0IHBhY2tldHMgb24KPiAt
ICogQHJ4X2J1ZmZlcjogYnVmZmVyIGNvbnRhaW5pbmcgcGFnZSB0byBhZGQKPiAgICogQHNrYjog
c2tfYnVmZiB0byBwbGFjZSB0aGUgZGF0YSBpbnRvCj4gKyAqIEByeF9idWZmZXI6IGJ1ZmZlciBj
b250YWluaW5nIHBhZ2UgdG8gYWRkCj4gICAqIEBzaXplOiBwYWNrZXQgbGVuZ3RoIGZyb20gcnhf
ZGVzYwo+ICAgKgo+ICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWRkIHRoZSBkYXRhIGNvbnRhaW5l
ZCBpbiByeF9idWZmZXItPnBhZ2UgdG8gdGhlIHNrYi4KPiBAQCAtMTEwMSwxMTEgKzEwMzksNTIg
QEAgc3RhdGljIGJvb2wgaWF2Zl9jbGVhbnVwX2hlYWRlcnMoc3RydWN0IGlhdmZfcmluZyAqcnhf
cmluZywgc3RydWN0IHNrX2J1ZmYgKnNrYikKPiAgICoKPiAgICogVGhlIGZ1bmN0aW9uIHdpbGwg
dGhlbiB1cGRhdGUgdGhlIHBhZ2Ugb2Zmc2V0Lgo+ICAgKiovCj4gLXN0YXRpYyB2b2lkIGlhdmZf
YWRkX3J4X2ZyYWcoc3RydWN0IGlhdmZfcmluZyAqcnhfcmluZywKPiAtICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBpYXZmX3J4X2J1ZmZlciAqcnhfYnVmZmVyLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNrX2J1ZmYgKnNrYiwKPiArc3RhdGljIHZvaWQg
aWF2Zl9hZGRfcnhfZnJhZyhzdHJ1Y3Qgc2tfYnVmZiAqc2tiLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgY29uc3Qgc3RydWN0IGxpYmllX3J4X2J1ZmZlciAqcnhfYnVmZmVyLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNpemUpCj4gIHsKPiAtI2lm
IChQQUdFX1NJWkUgPCA4MTkyKQo+IC0gICAgICAgdW5zaWduZWQgaW50IHRydWVzaXplID0gaWF2
Zl9yeF9wZ19zaXplKHJ4X3JpbmcpIC8gMjsKPiAtI2Vsc2UKPiAtICAgICAgIHVuc2lnbmVkIGlu
dCB0cnVlc2l6ZSA9IFNLQl9EQVRBX0FMSUdOKHNpemUgKyBJQVZGX1NLQl9QQUQpOwo+IC0jZW5k
aWYKPiAtCj4gLSAgICAgICBpZiAoIXNpemUpCj4gLSAgICAgICAgICAgICAgIHJldHVybjsKPiAr
ICAgICAgIHUzMiBociA9IHJ4X2J1ZmZlci0+cGFnZS0+cHAtPnAub2Zmc2V0Owo+Cj4gICAgICAg
ICBza2JfYWRkX3J4X2ZyYWcoc2tiLCBza2Jfc2hpbmZvKHNrYiktPm5yX2ZyYWdzLCByeF9idWZm
ZXItPnBhZ2UsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcnhfYnVmZmVyLT5wYWdlX29mZnNl
dCwgc2l6ZSwgdHJ1ZXNpemUpOwo+IC19Cj4gLQo+IC0vKioKPiAtICogaWF2Zl9nZXRfcnhfYnVm
ZmVyIC0gRmV0Y2ggUnggYnVmZmVyIGFuZCBzeW5jaHJvbml6ZSBkYXRhIGZvciB1c2UKPiAtICog
QHJ4X3Jpbmc6IHJ4IGRlc2NyaXB0b3IgcmluZyB0byB0cmFuc2FjdCBwYWNrZXRzIG9uCj4gLSAq
IEBzaXplOiBzaXplIG9mIGJ1ZmZlciB0byBhZGQgdG8gc2tiCj4gLSAqCj4gLSAqIFRoaXMgZnVu
Y3Rpb24gd2lsbCBwdWxsIGFuIFJ4IGJ1ZmZlciBmcm9tIHRoZSByaW5nIGFuZCBzeW5jaHJvbml6
ZSBpdAo+IC0gKiBmb3IgdXNlIGJ5IHRoZSBDUFUuCj4gLSAqLwo+IC1zdGF0aWMgc3RydWN0IGlh
dmZfcnhfYnVmZmVyICppYXZmX2dldF9yeF9idWZmZXIoc3RydWN0IGlhdmZfcmluZyAqcnhfcmlu
ZywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29u
c3QgdW5zaWduZWQgaW50IHNpemUpCj4gLXsKPiAtICAgICAgIHN0cnVjdCBpYXZmX3J4X2J1ZmZl
ciAqcnhfYnVmZmVyOwo+IC0KPiAtICAgICAgIHJ4X2J1ZmZlciA9ICZyeF9yaW5nLT5yeF9iaVty
eF9yaW5nLT5uZXh0X3RvX2NsZWFuXTsKPiAtICAgICAgIHByZWZldGNodyhyeF9idWZmZXItPnBh
Z2UpOwo+IC0gICAgICAgaWYgKCFzaXplKQo+IC0gICAgICAgICAgICAgICByZXR1cm4gcnhfYnVm
ZmVyOwo+IC0KPiAtICAgICAgIC8qIHdlIGFyZSByZXVzaW5nIHNvIHN5bmMgdGhpcyBidWZmZXIg
Zm9yIENQVSB1c2UgKi8KPiAtICAgICAgIGRtYV9zeW5jX3NpbmdsZV9yYW5nZV9mb3JfY3B1KHJ4
X3JpbmctPmRldiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4X2J1
ZmZlci0+ZG1hLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnhfYnVm
ZmVyLT5wYWdlX29mZnNldCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHNpemUsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBETUFfRlJPTV9E
RVZJQ0UpOwo+IC0KPiAtICAgICAgIHJldHVybiByeF9idWZmZXI7Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgcnhfYnVmZmVyLT5vZmZzZXQgKyBociwgc2l6ZSwgcnhfYnVmZmVyLT50cnVlc2l6
ZSk7Cj4gIH0KPgo+ICAvKioKPiAgICogaWF2Zl9idWlsZF9za2IgLSBCdWlsZCBza2IgYXJvdW5k
IGFuIGV4aXN0aW5nIGJ1ZmZlcgo+IC0gKiBAcnhfcmluZzogUnggZGVzY3JpcHRvciByaW5nIHRv
IHRyYW5zYWN0IHBhY2tldHMgb24KPiAgICogQHJ4X2J1ZmZlcjogUnggYnVmZmVyIHRvIHB1bGwg
ZGF0YSBmcm9tCj4gICAqIEBzaXplOiBzaXplIG9mIGJ1ZmZlciB0byBhZGQgdG8gc2tiCj4gICAq
Cj4gICAqIFRoaXMgZnVuY3Rpb24gYnVpbGRzIGFuIHNrYiBhcm91bmQgYW4gZXhpc3RpbmcgUngg
YnVmZmVyLCB0YWtpbmcgY2FyZQo+ICAgKiB0byBzZXQgdXAgdGhlIHNrYiBjb3JyZWN0bHkgYW5k
IGF2b2lkIGFueSBtZW1jcHkgb3ZlcmhlYWQuCj4gICAqLwo+IC1zdGF0aWMgc3RydWN0IHNrX2J1
ZmYgKmlhdmZfYnVpbGRfc2tiKHN0cnVjdCBpYXZmX3JpbmcgKnJ4X3JpbmcsCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaWF2Zl9yeF9idWZmZXIgKnJ4X2J1
ZmZlciwKPiArc3RhdGljIHN0cnVjdCBza19idWZmICppYXZmX2J1aWxkX3NrYihjb25zdCBzdHJ1
Y3QgbGliaWVfcnhfYnVmZmVyICpyeF9idWZmZXIsCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgc2l6ZSkKPiAgewo+IC0gICAgICAgdm9pZCAqdmE7
Cj4gLSNpZiAoUEFHRV9TSVpFIDwgODE5MikKPiAtICAgICAgIHVuc2lnbmVkIGludCB0cnVlc2l6
ZSA9IGlhdmZfcnhfcGdfc2l6ZShyeF9yaW5nKSAvIDI7Cj4gLSNlbHNlCj4gLSAgICAgICB1bnNp
Z25lZCBpbnQgdHJ1ZXNpemUgPSBTS0JfREFUQV9BTElHTihzaXplb2Yoc3RydWN0IHNrYl9zaGFy
ZWRfaW5mbykpICsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNLQl9EQVRBX0FM
SUdOKElBVkZfU0tCX1BBRCArIHNpemUpOwo+IC0jZW5kaWYKPiArICAgICAgIHN0cnVjdCBwYWdl
ICpwYWdlID0gcnhfYnVmZmVyLT5wYWdlOwo+ICsgICAgICAgdTMyIGhyID0gcGFnZS0+cHAtPnAu
b2Zmc2V0Owo+ICAgICAgICAgc3RydWN0IHNrX2J1ZmYgKnNrYjsKPiArICAgICAgIHZvaWQgKnZh
Owo+Cj4gLSAgICAgICBpZiAoIXJ4X2J1ZmZlciB8fCAhc2l6ZSkKPiAtICAgICAgICAgICAgICAg
cmV0dXJuIE5VTEw7Cj4gICAgICAgICAvKiBwcmVmZXRjaCBmaXJzdCBjYWNoZSBsaW5lIG9mIGZp
cnN0IHBhZ2UgKi8KPiAtICAgICAgIHZhID0gcGFnZV9hZGRyZXNzKHJ4X2J1ZmZlci0+cGFnZSkg
KyByeF9idWZmZXItPnBhZ2Vfb2Zmc2V0Owo+IC0gICAgICAgbmV0X3ByZWZldGNoKHZhKTsKPiAr
ICAgICAgIHZhID0gcGFnZV9hZGRyZXNzKHBhZ2UpICsgcnhfYnVmZmVyLT5vZmZzZXQ7Cj4gKyAg
ICAgICBuZXRfcHJlZmV0Y2godmEgKyBocik7Cj4KPiAgICAgICAgIC8qIGJ1aWxkIGFuIHNrYiBh
cm91bmQgdGhlIHBhZ2UgYnVmZmVyICovCj4gLSAgICAgICBza2IgPSBuYXBpX2J1aWxkX3NrYih2
YSAtIElBVkZfU0tCX1BBRCwgdHJ1ZXNpemUpOwo+IC0gICAgICAgaWYgKHVubGlrZWx5KCFza2Ip
KQo+ICsgICAgICAgc2tiID0gbmFwaV9idWlsZF9za2IodmEsIHJ4X2J1ZmZlci0+dHJ1ZXNpemUp
Owo+ICsgICAgICAgaWYgKHVubGlrZWx5KCFza2IpKSB7Cj4gKyAgICAgICAgICAgICAgIHBhZ2Vf
cG9vbF9wdXRfcGFnZShwYWdlLT5wcCwgcGFnZSwgc2l6ZSwgdHJ1ZSk7Cj4gICAgICAgICAgICAg
ICAgIHJldHVybiBOVUxMOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHNrYl9tYXJrX2Zvcl9y
ZWN5Y2xlKHNrYik7Cj4KPiAgICAgICAgIC8qIHVwZGF0ZSBwb2ludGVycyB3aXRoaW4gdGhlIHNr
YiB0byBzdG9yZSB0aGUgZGF0YSAqLwo+IC0gICAgICAgc2tiX3Jlc2VydmUoc2tiLCBJQVZGX1NL
Ql9QQUQpOwo+ICsgICAgICAgc2tiX3Jlc2VydmUoc2tiLCBocik7Cj4gICAgICAgICBfX3NrYl9w
dXQoc2tiLCBzaXplKTsKPgo+ICAgICAgICAgcmV0dXJuIHNrYjsKPiAgfQo+Cj4gLS8qKgo+IC0g
KiBpYXZmX3B1dF9yeF9idWZmZXIgLSBVbm1hcCB1c2VkIGJ1ZmZlcgo+IC0gKiBAcnhfcmluZzog
cnggZGVzY3JpcHRvciByaW5nIHRvIHRyYW5zYWN0IHBhY2tldHMgb24KPiAtICogQHJ4X2J1ZmZl
cjogcnggYnVmZmVyIHRvIHB1bGwgZGF0YSBmcm9tCj4gLSAqCj4gLSAqIFRoaXMgZnVuY3Rpb24g
d2lsbCB1bm1hcCB0aGUgYnVmZmVyIGFmdGVyIGl0J3Mgd3JpdHRlbiBieSBIVy4KPiAtICovCj4g
LXN0YXRpYyB2b2lkIGlhdmZfcHV0X3J4X2J1ZmZlcihzdHJ1Y3QgaWF2Zl9yaW5nICpyeF9yaW5n
LAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaWF2Zl9yeF9idWZmZXIg
KnJ4X2J1ZmZlcikKPiAtewo+IC0gICAgICAgaWYgKCFyeF9idWZmZXIpCj4gLSAgICAgICAgICAg
ICAgIHJldHVybjsKPiAtCj4gLSAgICAgICAvKiB3ZSBhcmUgbm90IHJldXNpbmcgdGhlIGJ1ZmZl
ciBzbyB1bm1hcCBpdCAqLwo+IC0gICAgICAgZG1hX3VubWFwX3BhZ2VfYXR0cnMocnhfcmluZy0+
ZGV2LCByeF9idWZmZXItPmRtYSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlhdmZf
cnhfcGdfc2l6ZShyeF9yaW5nKSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNQV9G
Uk9NX0RFVklDRSwgSUFWRl9SWF9ETUFfQVRUUik7Cj4gLX0KPiAtCj4gIC8qKgo+ICAgKiBpYXZm
X2lzX25vbl9lb3AgLSBwcm9jZXNzIGhhbmRsaW5nIG9mIG5vbi1FT1AgYnVmZmVycwo+ICAgKiBA
cnhfcmluZzogUnggcmluZyBiZWluZyBwcm9jZXNzZWQKPiBAQCAtMTI1OSw3ICsxMTM4LDcgQEAg
c3RhdGljIGludCBpYXZmX2NsZWFuX3J4X2lycShzdHJ1Y3QgaWF2Zl9yaW5nICpyeF9yaW5nLCBp
bnQgYnVkZ2V0KQo+ICAgICAgICAgYm9vbCBmYWlsdXJlID0gZmFsc2U7Cj4KPiAgICAgICAgIHdo
aWxlIChsaWtlbHkodG90YWxfcnhfcGFja2V0cyA8ICh1bnNpZ25lZCBpbnQpYnVkZ2V0KSkgewo+
IC0gICAgICAgICAgICAgICBzdHJ1Y3QgaWF2Zl9yeF9idWZmZXIgKnJ4X2J1ZmZlcjsKPiArICAg
ICAgICAgICAgICAgc3RydWN0IGxpYmllX3J4X2J1ZmZlciAqcnhfYnVmZmVyOwo+ICAgICAgICAg
ICAgICAgICB1bmlvbiBpYXZmX3J4X2Rlc2MgKnJ4X2Rlc2M7Cj4gICAgICAgICAgICAgICAgIHVu
c2lnbmVkIGludCBzaXplOwo+ICAgICAgICAgICAgICAgICB1MTYgdmxhbl90YWcgPSAwOwo+IEBA
IC0xMjk1LDI2ICsxMTc0LDI0IEBAIHN0YXRpYyBpbnQgaWF2Zl9jbGVhbl9yeF9pcnEoc3RydWN0
IGlhdmZfcmluZyAqcnhfcmluZywgaW50IGJ1ZGdldCkKPiAgICAgICAgICAgICAgICAgICAgICAg
IElBVkZfUlhEX1FXMV9MRU5HVEhfUEJVRl9TSElGVDsKPgo+ICAgICAgICAgICAgICAgICBpYXZm
X3RyYWNlKGNsZWFuX3J4X2lycSwgcnhfcmluZywgcnhfZGVzYywgc2tiKTsKPiAtICAgICAgICAg
ICAgICAgcnhfYnVmZmVyID0gaWF2Zl9nZXRfcnhfYnVmZmVyKHJ4X3JpbmcsIHNpemUpOwo+ICsK
PiArICAgICAgICAgICAgICAgcnhfYnVmZmVyID0gJnJ4X3JpbmctPnJ4X2JpW3J4X3JpbmctPm5l
eHRfdG9fY2xlYW5dOwo+ICsgICAgICAgICAgICAgICBpZiAoIWxpYmllX3J4X3N5bmNfZm9yX2Nw
dShyeF9idWZmZXIsIHNpemUpKQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gc2tpcF9k
YXRhOwo+Cj4gICAgICAgICAgICAgICAgIC8qIHJldHJpZXZlIGEgYnVmZmVyIGZyb20gdGhlIHJp
bmcgKi8KPiAgICAgICAgICAgICAgICAgaWYgKHNrYikKPiAtICAgICAgICAgICAgICAgICAgICAg
ICBpYXZmX2FkZF9yeF9mcmFnKHJ4X3JpbmcsIHJ4X2J1ZmZlciwgc2tiLCBzaXplKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICBpYXZmX2FkZF9yeF9mcmFnKHNrYiwgcnhfYnVmZmVyLCBzaXpl
KTsKPiAgICAgICAgICAgICAgICAgZWxzZQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHNrYiA9
IGlhdmZfYnVpbGRfc2tiKHJ4X3JpbmcsIHJ4X2J1ZmZlciwgc2l6ZSk7Cj4gLQo+IC0gICAgICAg
ICAgICAgICBpYXZmX3B1dF9yeF9idWZmZXIocnhfcmluZywgcnhfYnVmZmVyKTsKPiArICAgICAg
ICAgICAgICAgICAgICAgICBza2IgPSBpYXZmX2J1aWxkX3NrYihyeF9idWZmZXIsIHNpemUpOwo+
Cj4gICAgICAgICAgICAgICAgIC8qIGV4aXQgaWYgd2UgZmFpbGVkIHRvIHJldHJpZXZlIGEgYnVm
ZmVyICovCj4gICAgICAgICAgICAgICAgIGlmICghc2tiKSB7Cj4gICAgICAgICAgICAgICAgICAg
ICAgICAgcnhfcmluZy0+cnhfc3RhdHMuYWxsb2NfYnVmZl9mYWlsZWQrKzsKPiAtICAgICAgICAg
ICAgICAgICAgICAgICBfX2ZyZWVfcGFnZXMocnhfYnVmZmVyLT5wYWdlLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBpYXZmX3J4X3BnX29yZGVyKHJ4X3JpbmcpKTsKPiAt
ICAgICAgICAgICAgICAgICAgICAgICByeF9idWZmZXItPnBhZ2UgPSBOVUxMOwo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgICAgICAgICB9Cj4KPiAtICAgICAgICAg
ICAgICAgcnhfYnVmZmVyLT5wYWdlID0gTlVMTDsKPiArc2tpcF9kYXRhOgo+ICAgICAgICAgICAg
ICAgICBjbGVhbmVkX2NvdW50Kys7Cj4KPiAgICAgICAgICAgICAgICAgaWYgKGlhdmZfaXNfbm9u
X2VvcChyeF9yaW5nLCByeF9kZXNjLCBza2IpKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9l
dGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdHhyeC5oIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50
ZWwvaWF2Zi9pYXZmX3R4cnguaAo+IGluZGV4IDIxNzBhNzdmOGM4ZC4uYjEzZDg3OGM3NGM2IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2Zl90eHJ4LmgK
PiArKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdHhyeC5oCj4gQEAg
LTgxLDcwICs4MSw4IEBAIGVudW0gaWF2Zl9keW5faWR4X3Qgewo+ICAgICAgICAgQklUX1VMTChJ
QVZGX0ZJTFRFUl9QQ1RZUEVfTk9ORl9VTklDQVNUX0lQVjZfVURQKSB8IFwKPiAgICAgICAgIEJJ
VF9VTEwoSUFWRl9GSUxURVJfUENUWVBFX05PTkZfTVVMVElDQVNUX0lQVjZfVURQKSkKPgo+IC0v
KiBTdXBwb3J0ZWQgUnggQnVmZmVyIFNpemVzIChhIG11bHRpcGxlIG9mIDEyOCkgKi8KPiAtI2Rl
ZmluZSBJQVZGX1JYQlVGRkVSXzE1MzYgIDE1MzYgIC8qIDEyOEIgYWxpZ25lZCBzdGFuZGFyZCBF
dGhlcm5ldCBmcmFtZSAqLwo+IC0jZGVmaW5lIElBVkZfUlhCVUZGRVJfMjA0OCAgMjA0OAo+IC0j
ZGVmaW5lIElBVkZfUlhCVUZGRVJfMzA3MiAgMzA3MiAgLyogVXNlZCBmb3IgbGFyZ2UgZnJhbWVz
IHcvIHBhZGRpbmcgKi8KPiAtI2RlZmluZSBJQVZGX01BWF9SWEJVRkZFUiAgIDk3MjggIC8qIGxh
cmdlc3Qgc2l6ZSBmb3Igc2luZ2xlIGRlc2NyaXB0b3IgKi8KPiAtCj4gLSNkZWZpbmUgSUFWRl9Q
QUNLRVRfSERSX1BBRCAoRVRIX0hMRU4gKyBFVEhfRkNTX0xFTiArIChWTEFOX0hMRU4gKiAyKSkK
PiAgI2RlZmluZSBpYXZmX3J4X2Rlc2MgaWF2Zl8zMmJ5dGVfcnhfZGVzYwo+Cj4gLSNkZWZpbmUg
SUFWRl9SWF9ETUFfQVRUUiBcCj4gLSAgICAgICAoRE1BX0FUVFJfU0tJUF9DUFVfU1lOQyB8IERN
QV9BVFRSX1dFQUtfT1JERVJJTkcpCj4gLQo+IC0vKiBBdHRlbXB0IHRvIG1heGltaXplIHRoZSBo
ZWFkcm9vbSBhdmFpbGFibGUgZm9yIGluY29taW5nIGZyYW1lcy4gIFdlCj4gLSAqIHVzZSBhIDJL
IGJ1ZmZlciBmb3IgcmVjZWl2ZXMgYW5kIG5lZWQgMTUzNi8xNTM0IHRvIHN0b3JlIHRoZSBkYXRh
IGZvcgo+IC0gKiB0aGUgZnJhbWUuICBUaGlzIGxlYXZlcyB1cyB3aXRoIDUxMiBieXRlcyBvZiBy
b29tLiAgRnJvbSB0aGF0IHdlIG5lZWQKPiAtICogdG8gZGVkdWN0IHRoZSBzcGFjZSBuZWVkZWQg
Zm9yIHRoZSBzaGFyZWQgaW5mbyBhbmQgdGhlIHBhZGRpbmcgbmVlZGVkCj4gLSAqIHRvIElQIGFs
aWduIHRoZSBmcmFtZS4KPiAtICoKPiAtICogTm90ZTogRm9yIGNhY2hlIGxpbmUgc2l6ZXMgMjU2
IG9yIGxhcmdlciB0aGlzIHZhbHVlIGlzIGdvaW5nIHRvIGVuZAo+IC0gKiAgICAgIHVwIG5lZ2F0
aXZlLiAgSW4gdGhlc2UgY2FzZXMgd2Ugc2hvdWxkIGZhbGwgYmFjayB0byB0aGUgbGVnYWN5Cj4g
LSAqICAgICAgcmVjZWl2ZSBwYXRoLgo+IC0gKi8KPiAtI2lmIChQQUdFX1NJWkUgPCA4MTkyKQo+
IC0jZGVmaW5lIElBVkZfMktfVE9PX1NNQUxMX1dJVEhfUEFERElORyBcCj4gLSgoTkVUX1NLQl9Q
QUQgKyBJQVZGX1JYQlVGRkVSXzE1MzYpID4gU0tCX1dJVEhfT1ZFUkhFQUQoSUFWRl9SWEJVRkZF
Ul8yMDQ4KSkKPiAtCj4gLXN0YXRpYyBpbmxpbmUgaW50IGlhdmZfY29tcHV0ZV9wYWQoaW50IHJ4
X2J1Zl9sZW4pCj4gLXsKPiAtICAgICAgIGludCBwYWdlX3NpemUsIHBhZF9zaXplOwo+IC0KPiAt
ICAgICAgIHBhZ2Vfc2l6ZSA9IEFMSUdOKHJ4X2J1Zl9sZW4sIFBBR0VfU0laRSAvIDIpOwo+IC0g
ICAgICAgcGFkX3NpemUgPSBTS0JfV0lUSF9PVkVSSEVBRChwYWdlX3NpemUpIC0gcnhfYnVmX2xl
bjsKPiAtCj4gLSAgICAgICByZXR1cm4gcGFkX3NpemU7Cj4gLX0KPiAtCj4gLXN0YXRpYyBpbmxp
bmUgaW50IGlhdmZfc2tiX3BhZCh2b2lkKQo+IC17Cj4gLSAgICAgICBpbnQgcnhfYnVmX2xlbjsK
PiAtCj4gLSAgICAgICAvKiBJZiBhIDJLIGJ1ZmZlciBjYW5ub3QgaGFuZGxlIGEgc3RhbmRhcmQg
RXRoZXJuZXQgZnJhbWUgdGhlbgo+IC0gICAgICAgICogb3B0aW1pemUgcGFkZGluZyBmb3IgYSAz
SyBidWZmZXIgaW5zdGVhZCBvZiBhIDEuNUsgYnVmZmVyLgo+IC0gICAgICAgICoKPiAtICAgICAg
ICAqIEZvciBhIDNLIGJ1ZmZlciB3ZSBuZWVkIHRvIGFkZCBlbm91Z2ggcGFkZGluZyB0byBhbGxv
dyBmb3IKPiAtICAgICAgICAqIHRhaWxyb29tIGR1ZSB0byBORVRfSVBfQUxJR04gcG9zc2libHkg
c2hpZnRpbmcgdXMgb3V0IG9mCj4gLSAgICAgICAgKiBjYWNoZS1saW5lIGFsaWdubWVudC4KPiAt
ICAgICAgICAqLwo+IC0gICAgICAgaWYgKElBVkZfMktfVE9PX1NNQUxMX1dJVEhfUEFERElORykK
PiAtICAgICAgICAgICAgICAgcnhfYnVmX2xlbiA9IElBVkZfUlhCVUZGRVJfMzA3MiArIFNLQl9E
QVRBX0FMSUdOKE5FVF9JUF9BTElHTik7Cj4gLSAgICAgICBlbHNlCj4gLSAgICAgICAgICAgICAg
IHJ4X2J1Zl9sZW4gPSBJQVZGX1JYQlVGRkVSXzE1MzY7Cj4gLQo+IC0gICAgICAgLyogaWYgbmVl
ZGVkIG1ha2Ugcm9vbSBmb3IgTkVUX0lQX0FMSUdOICovCj4gLSAgICAgICByeF9idWZfbGVuIC09
IE5FVF9JUF9BTElHTjsKPiAtCj4gLSAgICAgICByZXR1cm4gaWF2Zl9jb21wdXRlX3BhZChyeF9i
dWZfbGVuKTsKPiAtfQo+IC0KPiAtI2RlZmluZSBJQVZGX1NLQl9QQUQgaWF2Zl9za2JfcGFkKCkK
PiAtI2Vsc2UKPiAtI2RlZmluZSBJQVZGXzJLX1RPT19TTUFMTF9XSVRIX1BBRERJTkcgZmFsc2UK
PiAtI2RlZmluZSBJQVZGX1NLQl9QQUQgKE5FVF9TS0JfUEFEICsgTkVUX0lQX0FMSUdOKQo+IC0j
ZW5kaWYKPiAtCj4gIC8qKgo+ICAgKiBpYXZmX3Rlc3Rfc3RhdGVyciAtIHRlc3RzIGJpdHMgaW4g
UnggZGVzY3JpcHRvciBzdGF0dXMgYW5kIGVycm9yIGZpZWxkcwo+ICAgKiBAcnhfZGVzYzogcG9p
bnRlciB0byByZWNlaXZlIGRlc2NyaXB0b3IgKGluIGxlNjQgZm9ybWF0KQo+IEBAIC0yNjMsMTIg
KzIwMSw2IEBAIHN0cnVjdCBpYXZmX3R4X2J1ZmZlciB7Cj4gICAgICAgICB1MzIgdHhfZmxhZ3M7
Cj4gIH07Cj4KPiAtc3RydWN0IGlhdmZfcnhfYnVmZmVyIHsKPiAtICAgICAgIGRtYV9hZGRyX3Qg
ZG1hOwo+IC0gICAgICAgc3RydWN0IHBhZ2UgKnBhZ2U7Cj4gLSAgICAgICBfX3UzMiBwYWdlX29m
ZnNldDsKPiAtfTsKPiAtCj4gIHN0cnVjdCBpYXZmX3F1ZXVlX3N0YXRzIHsKPiAgICAgICAgIHU2
NCBwYWNrZXRzOwo+ICAgICAgICAgdTY0IGJ5dGVzOwo+IEBAIC0zMTEsMTYgKzI0MywxOSBAQCBl
bnVtIGlhdmZfcmluZ19zdGF0ZV90IHsKPiAgc3RydWN0IGlhdmZfcmluZyB7Cj4gICAgICAgICBz
dHJ1Y3QgaWF2Zl9yaW5nICpuZXh0OyAgICAgICAgIC8qIHBvaW50ZXIgdG8gbmV4dCByaW5nIGlu
IHFfdmVjdG9yICovCj4gICAgICAgICB2b2lkICpkZXNjOyAgICAgICAgICAgICAgICAgICAgIC8q
IERlc2NyaXB0b3IgcmluZyBtZW1vcnkgKi8KPiAtICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldjsg
ICAgICAgICAgICAgLyogVXNlZCBmb3IgRE1BIG1hcHBpbmcgKi8KPiArICAgICAgIHVuaW9uIHsK
PiArICAgICAgICAgICAgICAgc3RydWN0IHBhZ2VfcG9vbCAqcHA7ICAgLyogVXNlZCBvbiBSeCBm
b3IgYnVmZmVyIG1hbmFnZW1lbnQgKi8KPiArICAgICAgICAgICAgICAgc3RydWN0IGRldmljZSAq
ZGV2OyAgICAgLyogVXNlZCBvbiBUeCBmb3IgRE1BIG1hcHBpbmcgKi8KPiArICAgICAgIH07Cj4g
ICAgICAgICBzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2OyAgICAgIC8qIG5ldGRldiByaW5nIG1h
cHMgdG8gKi8KPiAgICAgICAgIHVuaW9uIHsKPiArICAgICAgICAgICAgICAgc3RydWN0IGxpYmll
X3J4X2J1ZmZlciAqcnhfYmk7Cj4gICAgICAgICAgICAgICAgIHN0cnVjdCBpYXZmX3R4X2J1ZmZl
ciAqdHhfYmk7Cj4gLSAgICAgICAgICAgICAgIHN0cnVjdCBpYXZmX3J4X2J1ZmZlciAqcnhfYmk7
Cj4gICAgICAgICB9Owo+ICAgICAgICAgREVDTEFSRV9CSVRNQVAoc3RhdGUsIF9fSUFWRl9SSU5H
X1NUQVRFX05CSVRTKTsKPiArICAgICAgIHU4IF9faW9tZW0gKnRhaWw7Cj4gICAgICAgICB1MTYg
cXVldWVfaW5kZXg7ICAgICAgICAgICAgICAgIC8qIFF1ZXVlIG51bWJlciBvZiByaW5nICovCj4g
ICAgICAgICB1OCBkY2JfdGM7ICAgICAgICAgICAgICAgICAgICAgIC8qIFRyYWZmaWMgY2xhc3Mg
b2YgcmluZyAqLwo+IC0gICAgICAgdTggX19pb21lbSAqdGFpbDsKPgo+ICAgICAgICAgLyogaGln
aCBiaXQgc2V0IG1lYW5zIGR5bmFtaWMsIHVzZSBhY2Nlc3NvcnMgcm91dGluZXMgdG8gcmVhZC93
cml0ZS4KPiAgICAgICAgICAqIGhhcmR3YXJlIG9ubHkgc3VwcG9ydHMgMnVzIHJlc29sdXRpb24g
Zm9yIHRoZSBJVFIgcmVnaXN0ZXJzLgoKSSdtIGFzc3VtaW5nICJ0YWlsIiB3YXMgbW92ZWQgaGVy
ZSBzaW5jZSBpdCBpcyBhIHBvaW50ZXIgYW5kIGZpbGxzIGEgaG9sZT8KCj4gQEAgLTMyOSw5ICsy
NjQsOCBAQCBzdHJ1Y3QgaWF2Zl9yaW5nIHsKPiAgICAgICAgICAqLwo+ICAgICAgICAgdTE2IGl0
cl9zZXR0aW5nOwo+Cj4gLSAgICAgICB1MTYgY291bnQ7ICAgICAgICAgICAgICAgICAgICAgIC8q
IE51bWJlciBvZiBkZXNjcmlwdG9ycyAqLwo+ICAgICAgICAgdTE2IHJlZ19pZHg7ICAgICAgICAg
ICAgICAgICAgICAvKiBIVyByZWdpc3RlciBpbmRleCBvZiB0aGUgcmluZyAqLwo+IC0gICAgICAg
dTE2IHJ4X2J1Zl9sZW47Cj4gKyAgICAgICB1MTYgY291bnQ7ICAgICAgICAgICAgICAgICAgICAg
IC8qIE51bWJlciBvZiBkZXNjcmlwdG9ycyAqLwoKV2h5IG1vdmUgY291bnQgZG93biBoZXJlPyBJ
dCBpcyBtb3ZpbmcgdGhlIGNvbnN0YW50IHZhbHVlIHRoYXQgaXMKcmVhZC1tb3N0bHkgaW50byBh
biBhcmVhIHRoYXQgd2lsbCBiZSB1cGRhdGVkIG1vcmUgb2Z0ZW4uCgo+ICAgICAgICAgLyogdXNl
ZCBpbiBpbnRlcnJ1cHQgcHJvY2Vzc2luZyAqLwo+ICAgICAgICAgdTE2IG5leHRfdG9fdXNlOwo+
IEBAIC0zOTgsMTcgKzMzMiw2IEBAIHN0cnVjdCBpYXZmX3JpbmdfY29udGFpbmVyIHsKPiAgI2Rl
ZmluZSBpYXZmX2Zvcl9lYWNoX3JpbmcocG9zLCBoZWFkKSBcCj4gICAgICAgICBmb3IgKHBvcyA9
IChoZWFkKS5yaW5nOyBwb3MgIT0gTlVMTDsgcG9zID0gcG9zLT5uZXh0KQo+Cj4gLXN0YXRpYyBp
bmxpbmUgdW5zaWduZWQgaW50IGlhdmZfcnhfcGdfb3JkZXIoc3RydWN0IGlhdmZfcmluZyAqcmlu
ZykKPiAtewo+IC0jaWYgKFBBR0VfU0laRSA8IDgxOTIpCj4gLSAgICAgICBpZiAocmluZy0+cnhf
YnVmX2xlbiA+IChQQUdFX1NJWkUgLyAyKSkKPiAtICAgICAgICAgICAgICAgcmV0dXJuIDE7Cj4g
LSNlbmRpZgo+IC0gICAgICAgcmV0dXJuIDA7Cj4gLX0KPiAtCj4gLSNkZWZpbmUgaWF2Zl9yeF9w
Z19zaXplKF9yaW5nKSAoUEFHRV9TSVpFIDw8IGlhdmZfcnhfcGdfb3JkZXIoX3JpbmcpKQo+IC0K
CkFsbCB0aGlzIGNvZGUgcHJvYmFibHkgY291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gYW4gZWFy
bGllciBwYXRjaApzaW5jZSBJIGRvbid0IHRoaW5rIHdlIG5lZWQgdGhlIGhpZ2hlciBvcmRlciBw
YWdlcyBvbmNlIHdlIGRpZCBhd2F5CndpdGggdGhlIHJlY3ljbGluZy4gT2RkcyBhcmUgd2UgY2Fu
IHByb2JhYmx5IG1vdmUgdGhpcyBpbnRvIHRoZQpyZWN5Y2xpbmcgY29kZSByZW1vdmFsLgoKPiAg
Ym9vbCBpYXZmX2FsbG9jX3J4X2J1ZmZlcnMoc3RydWN0IGlhdmZfcmluZyAqcnhyLCB1MTYgY2xl
YW5lZF9jb3VudCk7Cj4gIG5ldGRldl90eF90IGlhdmZfeG1pdF9mcmFtZShzdHJ1Y3Qgc2tfYnVm
ZiAqc2tiLCBzdHJ1Y3QgbmV0X2RldmljZSAqbmV0ZGV2KTsKPiAgaW50IGlhdmZfc2V0dXBfdHhf
ZGVzY3JpcHRvcnMoc3RydWN0IGlhdmZfcmluZyAqdHhfcmluZyk7Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2Zl90eXBlLmggYi9kcml2ZXJzL25ldC9l
dGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdHlwZS5oCj4gaW5kZXggMzAzMGJhMzMwMzI2Li5iYjkw
ZDhmM2FkN2UgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWF2Zi9p
YXZmX3R5cGUuaAo+ICsrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2Zl90
eXBlLmgKPiBAQCAtMTAsOCArMTAsNiBAQAo+ICAjaW5jbHVkZSAiaWF2Zl9hZG1pbnEuaCIKPiAg
I2luY2x1ZGUgImlhdmZfZGV2aWRzLmgiCj4KPiAtI2RlZmluZSBJQVZGX1JYUV9DVFhfREJVRkZf
U0hJRlQgNwo+IC0KPiAgLyogSUFWRl9NQVNLIGlzIGEgbWFjcm8gdXNlZCBvbiAzMiBiaXQgcmVn
aXN0ZXJzICovCj4gICNkZWZpbmUgSUFWRl9NQVNLKG1hc2ssIHNoaWZ0KSAoKHUzMikobWFzaykg
PDwgKHNoaWZ0KSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9p
YXZmL2lhdmZfdmlydGNobmwuYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2lhdmYvaWF2
Zl92aXJ0Y2hubC5jCj4gaW5kZXggZmRkZGMzNTg4NDg3Li41MzQxNTA4YjQyOWYgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWF2Zi9pYXZmX3ZpcnRjaG5sLmMKPiAr
KysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pYXZmL2lhdmZfdmlydGNobmwuYwo+IEBA
IC0xLDYgKzEsOCBAQAo+ICAvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+ICAv
KiBDb3B5cmlnaHQoYykgMjAxMyAtIDIwMTggSW50ZWwgQ29ycG9yYXRpb24uICovCj4KPiArI2lu
Y2x1ZGUgPGxpbnV4L25ldC9pbnRlbC9saWJpZS9yeC5oPgo+ICsKPiAgI2luY2x1ZGUgImlhdmYu
aCIKPiAgI2luY2x1ZGUgImlhdmZfcHJvdG90eXBlLmgiCj4gICNpbmNsdWRlICJpYXZmX2NsaWVu
dC5oIgo+IEBAIC0yNjksMTQgKzI3MSwxMyBAQCBpbnQgaWF2Zl9nZXRfdmZfdmxhbl92Ml9jYXBz
KHN0cnVjdCBpYXZmX2FkYXB0ZXIgKmFkYXB0ZXIpCj4gIHZvaWQgaWF2Zl9jb25maWd1cmVfcXVl
dWVzKHN0cnVjdCBpYXZmX2FkYXB0ZXIgKmFkYXB0ZXIpCj4gIHsKPiAgICAgICAgIHN0cnVjdCB2
aXJ0Y2hubF92c2lfcXVldWVfY29uZmlnX2luZm8gKnZxY2k7Cj4gLSAgICAgICBpbnQgaSwgbWF4
X2ZyYW1lID0gYWRhcHRlci0+dmZfcmVzLT5tYXhfbXR1Owo+ICsgICAgICAgdTMyIGksIG1heF9m
cmFtZSA9IGFkYXB0ZXItPnZmX3Jlcy0+bWF4X210dTsKPiArICAgICAgIHN0cnVjdCBpYXZmX3Jp
bmcgKnJ4cSA9IGFkYXB0ZXItPnJ4X3JpbmdzOwo+ICAgICAgICAgaW50IHBhaXJzID0gYWRhcHRl
ci0+bnVtX2FjdGl2ZV9xdWV1ZXM7Cj4gICAgICAgICBzdHJ1Y3QgdmlydGNobmxfcXVldWVfcGFp
cl9pbmZvICp2cXBpOwo+ICsgICAgICAgdTMyIGhyLCBtYXhfbGVuOwo+ICAgICAgICAgc2l6ZV90
IGxlbjsKPgo+IC0gICAgICAgaWYgKG1heF9mcmFtZSA+IElBVkZfTUFYX1JYQlVGRkVSIHx8ICFt
YXhfZnJhbWUpCj4gLSAgICAgICAgICAgICAgIG1heF9mcmFtZSA9IElBVkZfTUFYX1JYQlVGRkVS
Owo+IC0KPiAgICAgICAgIGlmIChhZGFwdGVyLT5jdXJyZW50X29wICE9IFZJUlRDSE5MX09QX1VO
S05PV04pIHsKPiAgICAgICAgICAgICAgICAgLyogYmFpbCBiZWNhdXNlIHdlIGFscmVhZHkgaGF2
ZSBhIGNvbW1hbmQgcGVuZGluZyAqLwo+ICAgICAgICAgICAgICAgICBkZXZfZXJyKCZhZGFwdGVy
LT5wZGV2LT5kZXYsICJDYW5ub3QgY29uZmlndXJlIHF1ZXVlcywgY29tbWFuZCAlZCBwZW5kaW5n
XG4iLAo+IEBAIC0yODksOSArMjkwLDkgQEAgdm9pZCBpYXZmX2NvbmZpZ3VyZV9xdWV1ZXMoc3Ry
dWN0IGlhdmZfYWRhcHRlciAqYWRhcHRlcikKPiAgICAgICAgIGlmICghdnFjaSkKPiAgICAgICAg
ICAgICAgICAgcmV0dXJuOwo+Cj4gLSAgICAgICAvKiBMaW1pdCBtYXhpbXVtIGZyYW1lIHNpemUg
d2hlbiBqdW1ibyBmcmFtZXMgaXMgbm90IGVuYWJsZWQgKi8KPiAtICAgICAgIGlmIChhZGFwdGVy
LT5uZXRkZXYtPm10dSA8PSBFVEhfREFUQV9MRU4pCj4gLSAgICAgICAgICAgICAgIG1heF9mcmFt
ZSA9IElBVkZfUlhCVUZGRVJfMTUzNiAtIE5FVF9JUF9BTElHTjsKPiArICAgICAgIGhyID0gcnhx
LT5wcC0+cC5vZmZzZXQ7Cj4gKyAgICAgICBtYXhfbGVuID0gcnhxLT5wcC0+cC5tYXhfbGVuOwo+
ICsgICAgICAgbWF4X2ZyYW1lID0gbWluX25vdF96ZXJvKG1heF9mcmFtZSwgTElCSUVfTUFYX1JY
X0ZSTV9MRU4oaHIpKTsKPiAgICAgICAgIHZxY2ktPnZzaV9pZCA9IGFkYXB0ZXItPnZzaV9yZXMt
PnZzaV9pZDsKPiAgICAgICAgIHZxY2ktPm51bV9xdWV1ZV9wYWlycyA9IHBhaXJzOwo+IEBAIC0z
MDksOSArMzEwLDcgQEAgdm9pZCBpYXZmX2NvbmZpZ3VyZV9xdWV1ZXMoc3RydWN0IGlhdmZfYWRh
cHRlciAqYWRhcHRlcikKPiAgICAgICAgICAgICAgICAgdnFwaS0+cnhxLnJpbmdfbGVuID0gYWRh
cHRlci0+cnhfcmluZ3NbaV0uY291bnQ7Cj4gICAgICAgICAgICAgICAgIHZxcGktPnJ4cS5kbWFf
cmluZ19hZGRyID0gYWRhcHRlci0+cnhfcmluZ3NbaV0uZG1hOwo+ICAgICAgICAgICAgICAgICB2
cXBpLT5yeHEubWF4X3BrdF9zaXplID0gbWF4X2ZyYW1lOwo+IC0gICAgICAgICAgICAgICB2cXBp
LT5yeHEuZGF0YWJ1ZmZlcl9zaXplID0KPiAtICAgICAgICAgICAgICAgICAgICAgICBBTElHTihh
ZGFwdGVyLT5yeF9yaW5nc1tpXS5yeF9idWZfbGVuLAo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIEJJVF9VTEwoSUFWRl9SWFFfQ1RYX0RCVUZGX1NISUZUKSk7CgpJcyB0aGlzIHJlbmRl
cmVkIHJlZHVuZGFudCBieSBzb21ldGhpbmc/IFNlZW1zIGxpa2UgeW91IHNob3VsZCBiZQpndWFy
YW50ZWVpbmcgc29tZXdoZXJlIHRoYXQgeW91IGFyZSBzdGlsbCBhbGlnbmVkIHRvIHRoaXMuCgoK
PiArICAgICAgICAgICAgICAgdnFwaS0+cnhxLmRhdGFidWZmZXJfc2l6ZSA9IG1heF9sZW47Cj4g
ICAgICAgICAgICAgICAgIHZxcGkrKzsKPiAgICAgICAgIH0KPgo+IC0tCj4gMi40MS4wCj4KPiBf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IEludGVsLXdp
cmVkLWxhbiBtYWlsaW5nIGxpc3QKPiBJbnRlbC13aXJlZC1sYW5Ab3N1b3NsLm9yZwo+IGh0dHBz
Oi8vbGlzdHMub3N1b3NsLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLXdpcmVkLWxhbgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpJbnRlbC13aXJlZC1s
YW4gbWFpbGluZyBsaXN0CkludGVsLXdpcmVkLWxhbkBvc3Vvc2wub3JnCmh0dHBzOi8vbGlzdHMu
b3N1b3NsLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLXdpcmVkLWxhbgo=

