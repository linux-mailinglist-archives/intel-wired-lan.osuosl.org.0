Return-Path: <intel-wired-lan-bounces@osuosl.org>
X-Original-To: lists+intel-wired-lan@lfdr.de
Delivered-To: lists+intel-wired-lan@lfdr.de
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id 484F22B959B
	for <lists+intel-wired-lan@lfdr.de>; Thu, 19 Nov 2020 16:00:48 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by whitealder.osuosl.org (Postfix) with ESMTP id 00696868E5;
	Thu, 19 Nov 2020 15:00:47 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lFzyo7fJora9; Thu, 19 Nov 2020 15:00:46 +0000 (UTC)
Received: from ash.osuosl.org (ash.osuosl.org [140.211.166.34])
	by whitealder.osuosl.org (Postfix) with ESMTP id 876B086E3E;
	Thu, 19 Nov 2020 15:00:43 +0000 (UTC)
X-Original-To: intel-wired-lan@lists.osuosl.org
Delivered-To: intel-wired-lan@lists.osuosl.org
Received: from hemlock.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by ash.osuosl.org (Postfix) with ESMTP id 3CBDE1BF3D0
 for <intel-wired-lan@lists.osuosl.org>; Thu, 19 Nov 2020 08:31:33 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by hemlock.osuosl.org (Postfix) with ESMTP id 3625F87302
 for <intel-wired-lan@lists.osuosl.org>; Thu, 19 Nov 2020 08:31:33 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from hemlock.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id Q4OtK6kHAJVF for <intel-wired-lan@lists.osuosl.org>;
 Thu, 19 Nov 2020 08:31:31 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mail-pf1-f196.google.com (mail-pf1-f196.google.com
 [209.85.210.196])
 by hemlock.osuosl.org (Postfix) with ESMTPS id 8751A872EC
 for <intel-wired-lan@lists.osuosl.org>; Thu, 19 Nov 2020 08:31:31 +0000 (UTC)
Received: by mail-pf1-f196.google.com with SMTP id b63so3747848pfg.12
 for <intel-wired-lan@lists.osuosl.org>; Thu, 19 Nov 2020 00:31:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=nr017Oabl7Yd6TYI6UQKFVxTHnZmcq41rphQ7hOpSrE=;
 b=IXHgm2MXrioyDIuiVmUBskk0QAK5v/98gCxHelQSNTbO6h7SK1upCyYdqYdIuDM/BF
 rlUnptI2nW91o/O8Wfs+0RpT5sh6JLx8L2v/NWO2FDHyc5Y8CriftlxGcNfubRw+hq1I
 CxkB7usRiSnY1FPIzPaycO5rRFsyV5QSWzRKzeGcMh6cHjKeMgDQsbDS2thHtT+AL8bD
 cMj9Q6ogYOy26yree94GIhYVRdGlptp7cnsIzSdAiQGCEQ3b/YG0/54CJNn7sOltqaCh
 ZTeViompYvUqwvjhWZb8KYeA7yKCq+WnbFusXXVAeAC9jnBzkgvB0W1YcruhSukXInyJ
 msPA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=nr017Oabl7Yd6TYI6UQKFVxTHnZmcq41rphQ7hOpSrE=;
 b=Ycpaw4fZzXrdgscNtS6ifAMhqZQsFu696gf31RLhBGrb33/GiiYCudt4iGJ0BIf7Jk
 8T69Js984aaDcHqK9ky15Ek2M7NoHfvCvDAFnQhO8c8ummT85ykL6p344spIyQ3amgAH
 jXAJbX59o7MNCUFtnRklQiQHJYxd8eTc2VWp6yW7wVtDUO/C2EKfoWnEZbSqRAe4USpe
 CVdTbbFaXs66zkn1GvFlQohWwF/Wwixjg0mxh+IH0guV1Ivvj4+ej03rZe64+JAQ6ZGy
 Os+Dc3YkDWKKjjygDp2f1aN+jdHfTsZLZhIAthB5ZQp8ZOaeUdU+F+hgT5rMnVc02s6X
 pbNQ==
X-Gm-Message-State: AOAM5325Owka4/x65vGtrXFLoL0Hessb8KWGdk9t+AQ0WeyOc034T9kH
 nQUZ1KcX1PNfCE9Vmn5SLhM=
X-Google-Smtp-Source: ABdhPJwUZ7jlC42zToxD+wuDgwaFmh7wUUSRrW72BY8kgpnJOhz69FwovhyYig2gb+d30gJdP9ebkw==
X-Received: by 2002:a17:90a:4fa6:: with SMTP id
 q35mr3463779pjh.55.1605774691061; 
 Thu, 19 Nov 2020 00:31:31 -0800 (PST)
Received: from btopel-mobl.ger.intel.com ([192.55.55.43])
 by smtp.gmail.com with ESMTPSA id r2sm5517713pji.55.2020.11.19.00.31.19
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 19 Nov 2020 00:31:29 -0800 (PST)
From: =?UTF-8?q?Bj=C3=B6rn=20T=C3=B6pel?= <bjorn.topel@gmail.com>
To: netdev@vger.kernel.org,
	bpf@vger.kernel.org
Date: Thu, 19 Nov 2020 09:30:20 +0100
Message-Id: <20201119083024.119566-7-bjorn.topel@gmail.com>
X-Mailer: git-send-email 2.27.0
In-Reply-To: <20201119083024.119566-1-bjorn.topel@gmail.com>
References: <20201119083024.119566-1-bjorn.topel@gmail.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Thu, 19 Nov 2020 15:00:42 +0000
Subject: [Intel-wired-lan] [PATCH bpf-next v3 06/10] xsk: propagate napi_id
 to XDP socket Rx path
X-BeenThere: intel-wired-lan@osuosl.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Intel Wired Ethernet Linux Kernel Driver Development
 <intel-wired-lan.osuosl.org>
List-Unsubscribe: <https://lists.osuosl.org/mailman/options/intel-wired-lan>, 
 <mailto:intel-wired-lan-request@osuosl.org?subject=unsubscribe>
List-Archive: <http://lists.osuosl.org/pipermail/intel-wired-lan/>
List-Post: <mailto:intel-wired-lan@osuosl.org>
List-Help: <mailto:intel-wired-lan-request@osuosl.org?subject=help>
List-Subscribe: <https://lists.osuosl.org/mailman/listinfo/intel-wired-lan>,
 <mailto:intel-wired-lan-request@osuosl.org?subject=subscribe>
Cc: mst@redhat.com, kda@linux-powerpc.org, ast@kernel.org, edumazet@google.com,
 thomas.petazzoni@bootlin.com, ioana.ciornei@nxp.com, ecree@solarflare.com,
 aelior@marvell.com, akiyano@amazon.com, sthemmin@microsoft.com,
 ruxandra.radulescu@nxp.com, maximmi@nvidia.com,
 intel-wired-lan@lists.osuosl.org, kuba@kernel.org,
 =?UTF-8?q?Bj=C3=B6rn=20T=C3=B6pel?= <bjorn.topel@intel.com>,
 sgoutham@marvell.com, grygorii.strashko@ti.com, qi.z.zhang@intel.com,
 mcroce@microsoft.com, michael.chan@broadcom.com, magnus.karlsson@intel.com,
 daniel@iogearbox.net, ilias.apalodimas@linaro.org, tariqt@nvidia.com,
 netanel@amazon.com, jonathan.lemon@gmail.com, saeedm@nvidia.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-wired-lan-bounces@osuosl.org
Sender: "Intel-wired-lan" <intel-wired-lan-bounces@osuosl.org>

RnJvbTogQmrDtnJuIFTDtnBlbCA8Ympvcm4udG9wZWxAaW50ZWwuY29tPgoKQWRkIG5hcGlfaWQg
dG8gdGhlIHhkcF9yeHFfaW5mbyBzdHJ1Y3R1cmUsIGFuZCBtYWtlIHN1cmUgdGhlIFhEUApzb2Nr
ZXQgcGljayB1cCB0aGUgbmFwaV9pZCBpbiB0aGUgUnggcGF0aC4gVGhlIG5hcGlfaWQgaXMgdXNl
ZCB0byBmaW5kCnRoZSBjb3JyZXNwb25kaW5nIE5BUEkgc3RydWN0dXJlIGZvciBzb2NrZXQgYnVz
eSBwb2xsaW5nLgoKQWNrZWQtYnk6IElsaWFzIEFwYWxvZGltYXMgPGlsaWFzLmFwYWxvZGltYXNA
bGluYXJvLm9yZz4KQWNrZWQtYnk6IFRhcmlxIFRvdWthbiA8dGFyaXF0QG52aWRpYS5jb20+ClNp
Z25lZC1vZmYtYnk6IEJqw7ZybiBUw7ZwZWwgPGJqb3JuLnRvcGVsQGludGVsLmNvbT4KLS0tCiBk
cml2ZXJzL25ldC9ldGhlcm5ldC9hbWF6b24vZW5hL2VuYV9uZXRkZXYuYyAgfCAgMiArLQogZHJp
dmVycy9uZXQvZXRoZXJuZXQvYnJvYWRjb20vYm54dC9ibnh0LmMgICAgIHwgIDIgKy0KIC4uLi9l
dGhlcm5ldC9jYXZpdW0vdGh1bmRlci9uaWN2Zl9xdWV1ZXMuYyAgICB8ICAyICstCiAuLi4vbmV0
L2V0aGVybmV0L2ZyZWVzY2FsZS9kcGFhMi9kcGFhMi1ldGguYyAgfCAgMiArLQogZHJpdmVycy9u
ZXQvZXRoZXJuZXQvaW50ZWwvaTQwZS9pNDBlX3R4cnguYyAgIHwgIDIgKy0KIGRyaXZlcnMvbmV0
L2V0aGVybmV0L2ludGVsL2ljZS9pY2VfYmFzZS5jICAgICB8ICA0ICsrLS0KIGRyaXZlcnMvbmV0
L2V0aGVybmV0L2ludGVsL2ljZS9pY2VfdHhyeC5jICAgICB8ICAyICstCiBkcml2ZXJzL25ldC9l
dGhlcm5ldC9pbnRlbC9pZ2IvaWdiX21haW4uYyAgICAgfCAgMiArLQogZHJpdmVycy9uZXQvZXRo
ZXJuZXQvaW50ZWwvaXhnYmUvaXhnYmVfbWFpbi5jIHwgIDIgKy0KIC4uLi9uZXQvZXRoZXJuZXQv
aW50ZWwvaXhnYmV2Zi9peGdiZXZmX21haW4uYyB8ICAyICstCiBkcml2ZXJzL25ldC9ldGhlcm5l
dC9tYXJ2ZWxsL212bmV0YS5jICAgICAgICAgfCAgMiArLQogLi4uL25ldC9ldGhlcm5ldC9tYXJ2
ZWxsL212cHAyL212cHAyX21haW4uYyAgIHwgIDQgKystLQogZHJpdmVycy9uZXQvZXRoZXJuZXQv
bWVsbGFub3gvbWx4NC9lbl9yeC5jICAgIHwgIDIgKy0KIC4uLi9uZXQvZXRoZXJuZXQvbWVsbGFu
b3gvbWx4NS9jb3JlL2VuX21haW4uYyB8ICAyICstCiAuLi4vZXRoZXJuZXQvbmV0cm9ub21lL25m
cC9uZnBfbmV0X2NvbW1vbi5jICAgfCAgMiArLQogZHJpdmVycy9uZXQvZXRoZXJuZXQvcWxvZ2lj
L3FlZGUvcWVkZV9tYWluLmMgIHwgIDIgKy0KIGRyaXZlcnMvbmV0L2V0aGVybmV0L3NmYy9yeF9j
b21tb24uYyAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL25ldC9ldGhlcm5ldC9zb2Npb25leHQv
bmV0c2VjLmMgICAgICAgfCAgMiArLQogZHJpdmVycy9uZXQvZXRoZXJuZXQvdGkvY3Bzd19wcml2
LmMgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvbmV0L2h5cGVydi9uZXR2c2MuYyAgICAgICAg
ICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL25ldC90dW4uYyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgfCAgMiArLQogZHJpdmVycy9uZXQvdmV0aC5jICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHwgMTIgKysrKysrKystLS0tCiBkcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgICAgICAg
ICAgICAgICAgICAgICAgfCAgMiArLQogZHJpdmVycy9uZXQveGVuLW5ldGZyb250LmMgICAgICAg
ICAgICAgICAgICAgIHwgIDIgKy0KIGluY2x1ZGUvbmV0L2J1c3lfcG9sbC5oICAgICAgICAgICAg
ICAgICAgICAgICB8IDE5ICsrKysrKysrKysrKysrKy0tLS0KIGluY2x1ZGUvbmV0L3hkcC5oICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAzICsrLQogbmV0L2NvcmUvZGV2LmMgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHwgIDIgKy0KIG5ldC9jb3JlL3hkcC5jICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB8ICAzICsrLQogbmV0L3hkcC94c2suYyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHwgIDEgKwogMjkgZmlsZXMgY2hhbmdlZCwgNTQgaW5zZXJ0
aW9ucygrKSwgMzYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvYW1hem9uL2VuYS9lbmFfbmV0ZGV2LmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9hbWF6b24v
ZW5hL2VuYV9uZXRkZXYuYwppbmRleCBlODEzMWRhZGMyMmMuLjZhZDU5ZjAwNjhmNiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvYW1hem9uL2VuYS9lbmFfbmV0ZGV2LmMKKysrIGIv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvYW1hem9uL2VuYS9lbmFfbmV0ZGV2LmMKQEAgLTQxNiw3ICs0
MTYsNyBAQCBzdGF0aWMgaW50IGVuYV94ZHBfcmVnaXN0ZXJfcnhxX2luZm8oc3RydWN0IGVuYV9y
aW5nICpyeF9yaW5nKQogewogCWludCByYzsKIAotCXJjID0geGRwX3J4cV9pbmZvX3JlZygmcnhf
cmluZy0+eGRwX3J4cSwgcnhfcmluZy0+bmV0ZGV2LCByeF9yaW5nLT5xaWQpOworCXJjID0geGRw
X3J4cV9pbmZvX3JlZygmcnhfcmluZy0+eGRwX3J4cSwgcnhfcmluZy0+bmV0ZGV2LCByeF9yaW5n
LT5xaWQsIDApOwogCiAJaWYgKHJjKSB7CiAJCW5ldGlmX2VycihyeF9yaW5nLT5hZGFwdGVyLCBp
ZnVwLCByeF9yaW5nLT5uZXRkZXYsCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9i
cm9hZGNvbS9ibnh0L2JueHQuYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2Jyb2FkY29tL2JueHQv
Ym54dC5jCmluZGV4IDc5NzVmNTk3MzVkNi4uNzI1ZDkyOWVkZGIxIDEwMDY0NAotLS0gYS9kcml2
ZXJzL25ldC9ldGhlcm5ldC9icm9hZGNvbS9ibnh0L2JueHQuYworKysgYi9kcml2ZXJzL25ldC9l
dGhlcm5ldC9icm9hZGNvbS9ibnh0L2JueHQuYwpAQCAtMjg4NCw3ICsyODg0LDcgQEAgc3RhdGlj
IGludCBibnh0X2FsbG9jX3J4X3JpbmdzKHN0cnVjdCBibnh0ICpicCkKIAkJaWYgKHJjKQogCQkJ
cmV0dXJuIHJjOwogCi0JCXJjID0geGRwX3J4cV9pbmZvX3JlZygmcnhyLT54ZHBfcnhxLCBicC0+
ZGV2LCBpKTsKKwkJcmMgPSB4ZHBfcnhxX2luZm9fcmVnKCZyeHItPnhkcF9yeHEsIGJwLT5kZXYs
IGksIDApOwogCQlpZiAocmMgPCAwKQogCQkJcmV0dXJuIHJjOwogCmRpZmYgLS1naXQgYS9kcml2
ZXJzL25ldC9ldGhlcm5ldC9jYXZpdW0vdGh1bmRlci9uaWN2Zl9xdWV1ZXMuYyBiL2RyaXZlcnMv
bmV0L2V0aGVybmV0L2Nhdml1bS90aHVuZGVyL25pY3ZmX3F1ZXVlcy5jCmluZGV4IDdhMTQxY2Uz
MmU4Ni4uZjc4MmU2YWY0NWU5IDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9jYXZp
dW0vdGh1bmRlci9uaWN2Zl9xdWV1ZXMuYworKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9jYXZp
dW0vdGh1bmRlci9uaWN2Zl9xdWV1ZXMuYwpAQCAtNzcwLDcgKzc3MCw3IEBAIHN0YXRpYyB2b2lk
IG5pY3ZmX3Jjdl9xdWV1ZV9jb25maWcoc3RydWN0IG5pY3ZmICpuaWMsIHN0cnVjdCBxdWV1ZV9z
ZXQgKnFzLAogCXJxLT5jYWNoaW5nID0gMTsKIAogCS8qIERyaXZlciBoYXZlIG5vIHByb3BlciBl
cnJvciBwYXRoIGZvciBmYWlsZWQgWERQIFJYLXF1ZXVlIGluZm8gcmVnICovCi0JV0FSTl9PTih4
ZHBfcnhxX2luZm9fcmVnKCZycS0+eGRwX3J4cSwgbmljLT5uZXRkZXYsIHFpZHgpIDwgMCk7CisJ
V0FSTl9PTih4ZHBfcnhxX2luZm9fcmVnKCZycS0+eGRwX3J4cSwgbmljLT5uZXRkZXYsIHFpZHgs
IDApIDwgMCk7CiAKIAkvKiBTZW5kIGEgbWFpbGJveCBtc2cgdG8gUEYgdG8gY29uZmlnIFJRICov
CiAJbWJ4LnJxLm1zZyA9IE5JQ19NQk9YX01TR19SUV9DRkc7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9mcmVlc2NhbGUvZHBhYTIvZHBhYTItZXRoLmMgYi9kcml2ZXJzL25ldC9l
dGhlcm5ldC9mcmVlc2NhbGUvZHBhYTIvZHBhYTItZXRoLmMKaW5kZXggY2Y5NDAwYTk4ODZkLi40
MDk1Mzk4MGU4NDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ZyZWVzY2FsZS9k
cGFhMi9kcGFhMi1ldGguYworKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9mcmVlc2NhbGUvZHBh
YTIvZHBhYTItZXRoLmMKQEAgLTMzMzQsNyArMzMzNCw3IEBAIHN0YXRpYyBpbnQgZHBhYTJfZXRo
X3NldHVwX3J4X2Zsb3coc3RydWN0IGRwYWEyX2V0aF9wcml2ICpwcml2LAogCQlyZXR1cm4gMDsK
IAogCWVyciA9IHhkcF9yeHFfaW5mb19yZWcoJmZxLT5jaGFubmVsLT54ZHBfcnhxLCBwcml2LT5u
ZXRfZGV2LAotCQkJICAgICAgIGZxLT5mbG93aWQpOworCQkJICAgICAgIGZxLT5mbG93aWQsIDAp
OwogCWlmIChlcnIpIHsKIAkJZGV2X2VycihkZXYsICJ4ZHBfcnhxX2luZm9fcmVnIGZhaWxlZFxu
Iik7CiAJCXJldHVybiBlcnI7CmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRl
bC9pNDBlL2k0MGVfdHhyeC5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaTQwZS9pNDBl
X3R4cnguYwppbmRleCBjMjE1NDhjNzFiYjEuLjlmNzNjZDdhZWUwOSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaTQwZS9pNDBlX3R4cnguYworKysgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9pbnRlbC9pNDBlL2k0MGVfdHhyeC5jCkBAIC0xNDQ3LDcgKzE0NDcsNyBAQCBp
bnQgaTQwZV9zZXR1cF9yeF9kZXNjcmlwdG9ycyhzdHJ1Y3QgaTQwZV9yaW5nICpyeF9yaW5nKQog
CS8qIFhEUCBSWC1xdWV1ZSBpbmZvIG9ubHkgbmVlZGVkIGZvciBSWCByaW5ncyBleHBvc2VkIHRv
IFhEUCAqLwogCWlmIChyeF9yaW5nLT52c2ktPnR5cGUgPT0gSTQwRV9WU0lfTUFJTikgewogCQll
cnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZyeF9yaW5nLT54ZHBfcnhxLCByeF9yaW5nLT5uZXRkZXYs
Ci0JCQkJICAgICAgIHJ4X3JpbmctPnF1ZXVlX2luZGV4KTsKKwkJCQkgICAgICAgcnhfcmluZy0+
cXVldWVfaW5kZXgsIHJ4X3JpbmctPnFfdmVjdG9yLT5uYXBpLm5hcGlfaWQpOwogCQlpZiAoZXJy
IDwgMCkKIAkJCXJldHVybiBlcnI7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvaW50ZWwvaWNlL2ljZV9iYXNlLmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pY2Uv
aWNlX2Jhc2UuYwppbmRleCBmZTQzMjBlMmQxZjIuLjMxMjRhM2JmNTE5YSAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWNlL2ljZV9iYXNlLmMKKysrIGIvZHJpdmVycy9u
ZXQvZXRoZXJuZXQvaW50ZWwvaWNlL2ljZV9iYXNlLmMKQEAgLTMwNiw3ICszMDYsNyBAQCBpbnQg
aWNlX3NldHVwX3J4X2N0eChzdHJ1Y3QgaWNlX3JpbmcgKnJpbmcpCiAJCWlmICgheGRwX3J4cV9p
bmZvX2lzX3JlZygmcmluZy0+eGRwX3J4cSkpCiAJCQkvKiBjb3Zlcml0eVtjaGVja19yZXR1cm5d
ICovCiAJCQl4ZHBfcnhxX2luZm9fcmVnKCZyaW5nLT54ZHBfcnhxLCByaW5nLT5uZXRkZXYsCi0J
CQkJCSByaW5nLT5xX2luZGV4KTsKKwkJCQkJIHJpbmctPnFfaW5kZXgsIHJpbmctPnFfdmVjdG9y
LT5uYXBpLm5hcGlfaWQpOwogCiAJCXJpbmctPnhza19wb29sID0gaWNlX3hza19wb29sKHJpbmcp
OwogCQlpZiAocmluZy0+eHNrX3Bvb2wpIHsKQEAgLTMzMyw3ICszMzMsNyBAQCBpbnQgaWNlX3Nl
dHVwX3J4X2N0eChzdHJ1Y3QgaWNlX3JpbmcgKnJpbmcpCiAJCQkJLyogY292ZXJpdHlbY2hlY2tf
cmV0dXJuXSAqLwogCQkJCXhkcF9yeHFfaW5mb19yZWcoJnJpbmctPnhkcF9yeHEsCiAJCQkJCQkg
cmluZy0+bmV0ZGV2LAotCQkJCQkJIHJpbmctPnFfaW5kZXgpOworCQkJCQkJIHJpbmctPnFfaW5k
ZXgsIHJpbmctPnFfdmVjdG9yLT5uYXBpLm5hcGlfaWQpOwogCiAJCQllcnIgPSB4ZHBfcnhxX2lu
Zm9fcmVnX21lbV9tb2RlbCgmcmluZy0+eGRwX3J4cSwKIAkJCQkJCQkgTUVNX1RZUEVfUEFHRV9T
SEFSRUQsCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pY2UvaWNlX3R4
cnguYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2ljZS9pY2VfdHhyeC5jCmluZGV4IGVh
ZTc1MjYwZmUyMC4uNzdkNWVhZTZiNGMyIDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5l
dC9pbnRlbC9pY2UvaWNlX3R4cnguYworKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9p
Y2UvaWNlX3R4cnguYwpAQCAtNDgzLDcgKzQ4Myw3IEBAIGludCBpY2Vfc2V0dXBfcnhfcmluZyhz
dHJ1Y3QgaWNlX3JpbmcgKnJ4X3JpbmcpCiAJaWYgKHJ4X3JpbmctPnZzaS0+dHlwZSA9PSBJQ0Vf
VlNJX1BGICYmCiAJICAgICF4ZHBfcnhxX2luZm9faXNfcmVnKCZyeF9yaW5nLT54ZHBfcnhxKSkK
IAkJaWYgKHhkcF9yeHFfaW5mb19yZWcoJnJ4X3JpbmctPnhkcF9yeHEsIHJ4X3JpbmctPm5ldGRl
diwKLQkJCQkgICAgIHJ4X3JpbmctPnFfaW5kZXgpKQorCQkJCSAgICAgcnhfcmluZy0+cV9pbmRl
eCwgcnhfcmluZy0+cV92ZWN0b3ItPm5hcGkubmFwaV9pZCkpCiAJCQlnb3RvIGVycjsKIAlyZXR1
cm4gMDsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaWdiL2lnYl9t
YWluLmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9pbnRlbC9pZ2IvaWdiX21haW4uYwppbmRleCA1
ZmMyYzM4MWRhNTUuLjZhNGVmNDkzNGZjZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvaW50ZWwvaWdiL2lnYl9tYWluLmMKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwv
aWdiL2lnYl9tYWluLmMKQEAgLTQzNTIsNyArNDM1Miw3IEBAIGludCBpZ2Jfc2V0dXBfcnhfcmVz
b3VyY2VzKHN0cnVjdCBpZ2JfcmluZyAqcnhfcmluZykKIAogCS8qIFhEUCBSWC1xdWV1ZSBpbmZv
ICovCiAJaWYgKHhkcF9yeHFfaW5mb19yZWcoJnJ4X3JpbmctPnhkcF9yeHEsIHJ4X3JpbmctPm5l
dGRldiwKLQkJCSAgICAgcnhfcmluZy0+cXVldWVfaW5kZXgpIDwgMCkKKwkJCSAgICAgcnhfcmlu
Zy0+cXVldWVfaW5kZXgsIDApIDwgMCkKIAkJZ290byBlcnI7CiAKIAlyZXR1cm4gMDsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JlL2l4Z2JlX21haW4uYyBiL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JlL2l4Z2JlX21haW4uYwppbmRleCA0NWFlMzNl
MTUzMDMuLjUwZTZiOGI2YmE3YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50
ZWwvaXhnYmUvaXhnYmVfbWFpbi5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4
Z2JlL2l4Z2JlX21haW4uYwpAQCAtNjU3Nyw3ICs2NTc3LDcgQEAgaW50IGl4Z2JlX3NldHVwX3J4
X3Jlc291cmNlcyhzdHJ1Y3QgaXhnYmVfYWRhcHRlciAqYWRhcHRlciwKIAogCS8qIFhEUCBSWC1x
dWV1ZSBpbmZvICovCiAJaWYgKHhkcF9yeHFfaW5mb19yZWcoJnJ4X3JpbmctPnhkcF9yeHEsIGFk
YXB0ZXItPm5ldGRldiwKLQkJCSAgICAgcnhfcmluZy0+cXVldWVfaW5kZXgpIDwgMCkKKwkJCSAg
ICAgcnhfcmluZy0+cXVldWVfaW5kZXgsIHJ4X3JpbmctPnFfdmVjdG9yLT5uYXBpLm5hcGlfaWQp
IDwgMCkKIAkJZ290byBlcnI7CiAKIAlyeF9yaW5nLT54ZHBfcHJvZyA9IGFkYXB0ZXItPnhkcF9w
cm9nOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvaW50ZWwvaXhnYmV2Zi9peGdi
ZXZmX21haW4uYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JldmYvaXhnYmV2Zl9t
YWluLmMKaW5kZXggODJmY2UyN2Y2ODJiLi40MDYxY2Q3ZGI1ZGQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvbmV0L2V0aGVybmV0L2ludGVsL2l4Z2JldmYvaXhnYmV2Zl9tYWluLmMKKysrIGIvZHJpdmVy
cy9uZXQvZXRoZXJuZXQvaW50ZWwvaXhnYmV2Zi9peGdiZXZmX21haW4uYwpAQCAtMzQ5Myw3ICsz
NDkzLDcgQEAgaW50IGl4Z2JldmZfc2V0dXBfcnhfcmVzb3VyY2VzKHN0cnVjdCBpeGdiZXZmX2Fk
YXB0ZXIgKmFkYXB0ZXIsCiAKIAkvKiBYRFAgUlgtcXVldWUgaW5mbyAqLwogCWlmICh4ZHBfcnhx
X2luZm9fcmVnKCZyeF9yaW5nLT54ZHBfcnhxLCBhZGFwdGVyLT5uZXRkZXYsCi0JCQkgICAgIHJ4
X3JpbmctPnF1ZXVlX2luZGV4KSA8IDApCisJCQkgICAgIHJ4X3JpbmctPnF1ZXVlX2luZGV4LCAw
KSA8IDApCiAJCWdvdG8gZXJyOwogCiAJcnhfcmluZy0+eGRwX3Byb2cgPSBhZGFwdGVyLT54ZHBf
cHJvZzsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L21hcnZlbGwvbXZuZXRhLmMg
Yi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tYXJ2ZWxsL212bmV0YS5jCmluZGV4IDE4MzUzMGVkNGQx
ZC4uYmE2ZGNiMTliYjFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9tYXJ2ZWxs
L212bmV0YS5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21hcnZlbGwvbXZuZXRhLmMKQEAg
LTMyMjcsNyArMzIyNyw3IEBAIHN0YXRpYyBpbnQgbXZuZXRhX2NyZWF0ZV9wYWdlX3Bvb2woc3Ry
dWN0IG12bmV0YV9wb3J0ICpwcCwKIAkJcmV0dXJuIGVycjsKIAl9CiAKLQllcnIgPSB4ZHBfcnhx
X2luZm9fcmVnKCZyeHEtPnhkcF9yeHEsIHBwLT5kZXYsIHJ4cS0+aWQpOworCWVyciA9IHhkcF9y
eHFfaW5mb19yZWcoJnJ4cS0+eGRwX3J4cSwgcHAtPmRldiwgcnhxLT5pZCwgMCk7CiAJaWYgKGVy
ciA8IDApCiAJCWdvdG8gZXJyX2ZyZWVfcHA7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0
aGVybmV0L21hcnZlbGwvbXZwcDIvbXZwcDJfbWFpbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQv
bWFydmVsbC9tdnBwMi9tdnBwMl9tYWluLmMKaW5kZXggMzA2OWUxOTJkNzczLi41NTA0Y2JjMjQ5
NzAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L21hcnZlbGwvbXZwcDIvbXZwcDJf
bWFpbi5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L21hcnZlbGwvbXZwcDIvbXZwcDJfbWFp
bi5jCkBAIC0yNjE0LDExICsyNjE0LDExIEBAIHN0YXRpYyBpbnQgbXZwcDJfcnhxX2luaXQoc3Ry
dWN0IG12cHAyX3BvcnQgKnBvcnQsCiAJbXZwcDJfcnhxX3N0YXR1c191cGRhdGUocG9ydCwgcnhx
LT5pZCwgMCwgcnhxLT5zaXplKTsKIAogCWlmIChwcml2LT5wZXJjcHVfcG9vbHMpIHsKLQkJZXJy
ID0geGRwX3J4cV9pbmZvX3JlZygmcnhxLT54ZHBfcnhxX3Nob3J0LCBwb3J0LT5kZXYsIHJ4cS0+
aWQpOworCQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZyeHEtPnhkcF9yeHFfc2hvcnQsIHBvcnQt
PmRldiwgcnhxLT5pZCwgMCk7CiAJCWlmIChlcnIgPCAwKQogCQkJZ290byBlcnJfZnJlZV9kbWE7
CiAKLQkJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmcnhxLT54ZHBfcnhxX2xvbmcsIHBvcnQtPmRl
diwgcnhxLT5pZCk7CisJCWVyciA9IHhkcF9yeHFfaW5mb19yZWcoJnJ4cS0+eGRwX3J4cV9sb25n
LCBwb3J0LT5kZXYsIHJ4cS0+aWQsIDApOwogCQlpZiAoZXJyIDwgMCkKIAkJCWdvdG8gZXJyX3Vu
cmVnaXN0ZXJfcnhxX3Nob3J0OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC9t
ZWxsYW5veC9tbHg0L2VuX3J4LmMgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg0
L2VuX3J4LmMKaW5kZXggYjBmNzlhNTE1MWNmLi40MDc3NWNiOGZiMmEgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvbmV0L2V0aGVybmV0L21lbGxhbm94L21seDQvZW5fcnguYworKysgYi9kcml2ZXJzL25l
dC9ldGhlcm5ldC9tZWxsYW5veC9tbHg0L2VuX3J4LmMKQEAgLTI4Myw3ICsyODMsNyBAQCBpbnQg
bWx4NF9lbl9jcmVhdGVfcnhfcmluZyhzdHJ1Y3QgbWx4NF9lbl9wcml2ICpwcml2LAogCXJpbmct
PmxvZ19zdHJpZGUgPSBmZnMocmluZy0+c3RyaWRlKSAtIDE7CiAJcmluZy0+YnVmX3NpemUgPSBy
aW5nLT5zaXplICogcmluZy0+c3RyaWRlICsgVFhCQl9TSVpFOwogCi0JaWYgKHhkcF9yeHFfaW5m
b19yZWcoJnJpbmctPnhkcF9yeHEsIHByaXYtPmRldiwgcXVldWVfaW5kZXgpIDwgMCkKKwlpZiAo
eGRwX3J4cV9pbmZvX3JlZygmcmluZy0+eGRwX3J4cSwgcHJpdi0+ZGV2LCBxdWV1ZV9pbmRleCwg
MCkgPCAwKQogCQlnb3RvIGVycl9yaW5nOwogCiAJdG1wID0gc2l6ZSAqIHJvdW5kdXBfcG93X29m
X3R3byhNTFg0X0VOX01BWF9SWF9GUkFHUyAqCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhl
cm5ldC9tZWxsYW5veC9tbHg1L2NvcmUvZW5fbWFpbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQv
bWVsbGFub3gvbWx4NS9jb3JlL2VuX21haW4uYwppbmRleCA1MjdjNWYxMmM1YWYuLjQyN2ZjMzc2
ZmUxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvbWVsbGFub3gvbWx4NS9jb3Jl
L2VuX21haW4uYworKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC9tZWxsYW5veC9tbHg1L2NvcmUv
ZW5fbWFpbi5jCkBAIC00MzQsNyArNDM0LDcgQEAgc3RhdGljIGludCBtbHg1ZV9hbGxvY19ycShz
dHJ1Y3QgbWx4NWVfY2hhbm5lbCAqYywKIAlycV94ZHBfaXggPSBycS0+aXg7CiAJaWYgKHhzaykK
IAkJcnFfeGRwX2l4ICs9IHBhcmFtcy0+bnVtX2NoYW5uZWxzICogTUxYNUVfUlFfR1JPVVBfWFNL
OwotCWVyciA9IHhkcF9yeHFfaW5mb19yZWcoJnJxLT54ZHBfcnhxLCBycS0+bmV0ZGV2LCBycV94
ZHBfaXgpOworCWVyciA9IHhkcF9yeHFfaW5mb19yZWcoJnJxLT54ZHBfcnhxLCBycS0+bmV0ZGV2
LCBycV94ZHBfaXgsIDApOwogCWlmIChlcnIgPCAwKQogCQlnb3RvIGVycl9ycV94ZHBfcHJvZzsK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQvbmV0cm9ub21lL25mcC9uZnBfbmV0
X2NvbW1vbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvbmV0cm9ub21lL25mcC9uZnBfbmV0X2Nv
bW1vbi5jCmluZGV4IGIxNTBkYTQzYWRiMi4uYjRhY2YyZjQxZTg0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL25ldC9ldGhlcm5ldC9uZXRyb25vbWUvbmZwL25mcF9uZXRfY29tbW9uLmMKKysrIGIvZHJp
dmVycy9uZXQvZXRoZXJuZXQvbmV0cm9ub21lL25mcC9uZnBfbmV0X2NvbW1vbi5jCkBAIC0yNTMz
LDcgKzI1MzMsNyBAQCBuZnBfbmV0X3J4X3JpbmdfYWxsb2Moc3RydWN0IG5mcF9uZXRfZHAgKmRw
LCBzdHJ1Y3QgbmZwX25ldF9yeF9yaW5nICpyeF9yaW5nKQogCiAJaWYgKGRwLT5uZXRkZXYpIHsK
IAkJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmcnhfcmluZy0+eGRwX3J4cSwgZHAtPm5ldGRldiwK
LQkJCQkgICAgICAgcnhfcmluZy0+aWR4KTsKKwkJCQkgICAgICAgcnhfcmluZy0+aWR4LCByeF9y
aW5nLT5yX3ZlYy0+bmFwaS5uYXBpX2lkKTsKIAkJaWYgKGVyciA8IDApCiAJCQlyZXR1cm4gZXJy
OwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L3Fsb2dpYy9xZWRlL3FlZGVf
bWFpbi5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvcWxvZ2ljL3FlZGUvcWVkZV9tYWluLmMKaW5k
ZXggMDVlM2EzYjYwMjY5Li45Y2Y5NjBhNmQwMDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2V0
aGVybmV0L3Fsb2dpYy9xZWRlL3FlZGVfbWFpbi5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0
L3Fsb2dpYy9xZWRlL3FlZGVfbWFpbi5jCkBAIC0xNzYyLDcgKzE3NjIsNyBAQCBzdGF0aWMgdm9p
ZCBxZWRlX2luaXRfZnAoc3RydWN0IHFlZGVfZGV2ICplZGV2KQogCiAJCQkvKiBEcml2ZXIgaGF2
ZSBubyBlcnJvciBwYXRoIGZyb20gaGVyZSAqLwogCQkJV0FSTl9PTih4ZHBfcnhxX2luZm9fcmVn
KCZmcC0+cnhxLT54ZHBfcnhxLCBlZGV2LT5uZGV2LAotCQkJCQkJIGZwLT5yeHEtPnJ4cV9pZCkg
PCAwKTsKKwkJCQkJCSBmcC0+cnhxLT5yeHFfaWQsIDApIDwgMCk7CiAKIAkJCWlmICh4ZHBfcnhx
X2luZm9fcmVnX21lbV9tb2RlbCgmZnAtPnJ4cS0+eGRwX3J4cSwKIAkJCQkJCSAgICAgICBNRU1f
VFlQRV9QQUdFX09SREVSMCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2V0aGVybmV0L3NmYy9y
eF9jb21tb24uYyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L3NmYy9yeF9jb21tb24uYwppbmRleCAx
OWNmN2NhYzFlNmUuLjY4ZmM3ZDMxNzY5MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvc2ZjL3J4X2NvbW1vbi5jCisrKyBiL2RyaXZlcnMvbmV0L2V0aGVybmV0L3NmYy9yeF9jb21t
b24uYwpAQCAtMjYyLDcgKzI2Miw3IEBAIHZvaWQgZWZ4X2luaXRfcnhfcXVldWUoc3RydWN0IGVm
eF9yeF9xdWV1ZSAqcnhfcXVldWUpCiAKIAkvKiBJbml0aWFsaXNlIFhEUCBxdWV1ZSBpbmZvcm1h
dGlvbiAqLwogCXJjID0geGRwX3J4cV9pbmZvX3JlZygmcnhfcXVldWUtPnhkcF9yeHFfaW5mbywg
ZWZ4LT5uZXRfZGV2LAotCQkJICAgICAgcnhfcXVldWUtPmNvcmVfaW5kZXgpOworCQkJICAgICAg
cnhfcXVldWUtPmNvcmVfaW5kZXgsIDApOwogCiAJaWYgKHJjKSB7CiAJCW5ldGlmX2VycihlZngs
IHJ4X2VyciwgZWZ4LT5uZXRfZGV2LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvZXRoZXJuZXQv
c29jaW9uZXh0L25ldHNlYy5jIGIvZHJpdmVycy9uZXQvZXRoZXJuZXQvc29jaW9uZXh0L25ldHNl
Yy5jCmluZGV4IDE1MDNjYzllYzZlMi4uMjdkM2M5ZDkyMTBlIDEwMDY0NAotLS0gYS9kcml2ZXJz
L25ldC9ldGhlcm5ldC9zb2Npb25leHQvbmV0c2VjLmMKKysrIGIvZHJpdmVycy9uZXQvZXRoZXJu
ZXQvc29jaW9uZXh0L25ldHNlYy5jCkBAIC0xMzA0LDcgKzEzMDQsNyBAQCBzdGF0aWMgaW50IG5l
dHNlY19zZXR1cF9yeF9kcmluZyhzdHJ1Y3QgbmV0c2VjX3ByaXYgKnByaXYpCiAJCWdvdG8gZXJy
X291dDsKIAl9CiAKLQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZkcmluZy0+eGRwX3J4cSwgcHJp
di0+bmRldiwgMCk7CisJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmZHJpbmctPnhkcF9yeHEsIHBy
aXYtPm5kZXYsIDAsIHByaXYtPm5hcGkubmFwaV9pZCk7CiAJaWYgKGVycikKIAkJZ290byBlcnJf
b3V0OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9ldGhlcm5ldC90aS9jcHN3X3ByaXYuYyBi
L2RyaXZlcnMvbmV0L2V0aGVybmV0L3RpL2Nwc3dfcHJpdi5jCmluZGV4IDMxYzVlMzZmZjcwNi4u
NmRkNzNiZDBmNDU4IDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9ldGhlcm5ldC90aS9jcHN3X3By
aXYuYworKysgYi9kcml2ZXJzL25ldC9ldGhlcm5ldC90aS9jcHN3X3ByaXYuYwpAQCAtMTE4Niw3
ICsxMTg2LDcgQEAgc3RhdGljIGludCBjcHN3X25kZXZfY3JlYXRlX3hkcF9yeHEoc3RydWN0IGNw
c3dfcHJpdiAqcHJpdiwgaW50IGNoKQogCXBvb2wgPSBjcHN3LT5wYWdlX3Bvb2xbY2hdOwogCXJ4
cSA9ICZwcml2LT54ZHBfcnhxW2NoXTsKIAotCXJldCA9IHhkcF9yeHFfaW5mb19yZWcocnhxLCBw
cml2LT5uZGV2LCBjaCk7CisJcmV0ID0geGRwX3J4cV9pbmZvX3JlZyhyeHEsIHByaXYtPm5kZXYs
IGNoLCAwKTsKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCmRpZmYgLS1naXQgYS9kcml2ZXJz
L25ldC9oeXBlcnYvbmV0dnNjLmMgYi9kcml2ZXJzL25ldC9oeXBlcnYvbmV0dnNjLmMKaW5kZXgg
MGMzZGU5NGI1MTc4Li5mYTgzNDFmODM1OWEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L2h5cGVy
di9uZXR2c2MuYworKysgYi9kcml2ZXJzL25ldC9oeXBlcnYvbmV0dnNjLmMKQEAgLTE0OTksNyAr
MTQ5OSw3IEBAIHN0cnVjdCBuZXR2c2NfZGV2aWNlICpuZXR2c2NfZGV2aWNlX2FkZChzdHJ1Y3Qg
aHZfZGV2aWNlICpkZXZpY2UsCiAJCXU2NF9zdGF0c19pbml0KCZudmNoYW4tPnR4X3N0YXRzLnN5
bmNwKTsKIAkJdTY0X3N0YXRzX2luaXQoJm52Y2hhbi0+cnhfc3RhdHMuc3luY3ApOwogCi0JCXJl
dCA9IHhkcF9yeHFfaW5mb19yZWcoJm52Y2hhbi0+eGRwX3J4cSwgbmRldiwgaSk7CisJCXJldCA9
IHhkcF9yeHFfaW5mb19yZWcoJm52Y2hhbi0+eGRwX3J4cSwgbmRldiwgaSwgMCk7CiAKIAkJaWYg
KHJldCkgewogCQkJbmV0ZGV2X2VycihuZGV2LCAieGRwX3J4cV9pbmZvX3JlZyBmYWlsOiAlZFxu
IiwgcmV0KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L3R1bi5jIGIvZHJpdmVycy9uZXQvdHVu
LmMKaW5kZXggM2Q0NWQ1NjE3MmNiLi44ODY3ZDM5ZGI2YWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
bmV0L3R1bi5jCisrKyBiL2RyaXZlcnMvbmV0L3R1bi5jCkBAIC03ODAsNyArNzgwLDcgQEAgc3Rh
dGljIGludCB0dW5fYXR0YWNoKHN0cnVjdCB0dW5fc3RydWN0ICp0dW4sIHN0cnVjdCBmaWxlICpm
aWxlLAogCX0gZWxzZSB7CiAJCS8qIFNldHVwIFhEUCBSWC1xdWV1ZSBpbmZvLCBmb3IgbmV3IHRm
aWxlIGdldHRpbmcgYXR0YWNoZWQgKi8KIAkJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmdGZpbGUt
PnhkcF9yeHEsCi0JCQkJICAgICAgIHR1bi0+ZGV2LCB0ZmlsZS0+cXVldWVfaW5kZXgpOworCQkJ
CSAgICAgICB0dW4tPmRldiwgdGZpbGUtPnF1ZXVlX2luZGV4LCAwKTsKIAkJaWYgKGVyciA8IDAp
CiAJCQlnb3RvIG91dDsKIAkJZXJyID0geGRwX3J4cV9pbmZvX3JlZ19tZW1fbW9kZWwoJnRmaWxl
LT54ZHBfcnhxLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvdmV0aC5jIGIvZHJpdmVycy9uZXQv
dmV0aC5jCmluZGV4IDhjNzM3NjY4MDA4YS4uOWJkMzdjNzE1MWY4IDEwMDY0NAotLS0gYS9kcml2
ZXJzL25ldC92ZXRoLmMKKysrIGIvZHJpdmVycy9uZXQvdmV0aC5jCkBAIC04ODQsNyArODg0LDYg
QEAgc3RhdGljIGludCB2ZXRoX25hcGlfYWRkKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiAJZm9y
IChpID0gMDsgaSA8IGRldi0+cmVhbF9udW1fcnhfcXVldWVzOyBpKyspIHsKIAkJc3RydWN0IHZl
dGhfcnEgKnJxID0gJnByaXYtPnJxW2ldOwogCi0JCW5ldGlmX25hcGlfYWRkKGRldiwgJnJxLT54
ZHBfbmFwaSwgdmV0aF9wb2xsLCBOQVBJX1BPTExfV0VJR0hUKTsKIAkJbmFwaV9lbmFibGUoJnJx
LT54ZHBfbmFwaSk7CiAJfQogCkBAIC05MjYsNyArOTI1LDggQEAgc3RhdGljIGludCB2ZXRoX2Vu
YWJsZV94ZHAoc3RydWN0IG5ldF9kZXZpY2UgKmRldikKIAkJZm9yIChpID0gMDsgaSA8IGRldi0+
cmVhbF9udW1fcnhfcXVldWVzOyBpKyspIHsKIAkJCXN0cnVjdCB2ZXRoX3JxICpycSA9ICZwcml2
LT5ycVtpXTsKIAotCQkJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmcnEtPnhkcF9yeHEsIGRldiwg
aSk7CisJCQluZXRpZl9uYXBpX2FkZChkZXYsICZycS0+eGRwX25hcGksIHZldGhfcG9sbCwgTkFQ
SV9QT0xMX1dFSUdIVCk7CisJCQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZycS0+eGRwX3J4cSwg
ZGV2LCBpLCBycS0+eGRwX25hcGkubmFwaV9pZCk7CiAJCQlpZiAoZXJyIDwgMCkKIAkJCQlnb3Rv
IGVycl9yeHFfcmVnOwogCkBAIC05NTIsOCArOTUyLDEyIEBAIHN0YXRpYyBpbnQgdmV0aF9lbmFi
bGVfeGRwKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCiBlcnJfcmVnX21lbToKIAl4ZHBfcnhxX2lu
Zm9fdW5yZWcoJnByaXYtPnJxW2ldLnhkcF9yeHEpOwogZXJyX3J4cV9yZWc6Ci0JZm9yIChpLS07
IGkgPj0gMDsgaS0tKQotCQl4ZHBfcnhxX2luZm9fdW5yZWcoJnByaXYtPnJxW2ldLnhkcF9yeHEp
OworCWZvciAoaS0tOyBpID49IDA7IGktLSkgeworCQlzdHJ1Y3QgdmV0aF9ycSAqcnEgPSAmcHJp
di0+cnFbaV07CisKKwkJeGRwX3J4cV9pbmZvX3VucmVnKCZycS0+eGRwX3J4cSk7CisJCW5ldGlm
X25hcGlfZGVsKCZycS0+eGRwX25hcGkpOworCX0KIAogCXJldHVybiBlcnI7CiB9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgYi9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMK
aW5kZXggMjFiNzExNDhjNTMyLi4wNTI5NzVlYTBhZjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0
L3ZpcnRpb19uZXQuYworKysgYi9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMKQEAgLTE0ODUsNyAr
MTQ4NSw3IEBAIHN0YXRpYyBpbnQgdmlydG5ldF9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYp
CiAJCQlpZiAoIXRyeV9maWxsX3JlY3YodmksICZ2aS0+cnFbaV0sIEdGUF9LRVJORUwpKQogCQkJ
CXNjaGVkdWxlX2RlbGF5ZWRfd29yaygmdmktPnJlZmlsbCwgMCk7CiAKLQkJZXJyID0geGRwX3J4
cV9pbmZvX3JlZygmdmktPnJxW2ldLnhkcF9yeHEsIGRldiwgaSk7CisJCWVyciA9IHhkcF9yeHFf
aW5mb19yZWcoJnZpLT5ycVtpXS54ZHBfcnhxLCBkZXYsIGksIHZpLT5ycVtpXS5uYXBpLm5hcGlf
aWQpOwogCQlpZiAoZXJyIDwgMCkKIAkJCXJldHVybiBlcnI7CiAKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbmV0L3hlbi1uZXRmcm9udC5jIGIvZHJpdmVycy9uZXQveGVuLW5ldGZyb250LmMKaW5kZXgg
OTIwY2FjNDM4NWJmLi5iMDE4NDhlZjQ2NDkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L3hlbi1u
ZXRmcm9udC5jCisrKyBiL2RyaXZlcnMvbmV0L3hlbi1uZXRmcm9udC5jCkBAIC0yMDE0LDcgKzIw
MTQsNyBAQCBzdGF0aWMgaW50IHhlbm5ldF9jcmVhdGVfcGFnZV9wb29sKHN0cnVjdCBuZXRmcm9u
dF9xdWV1ZSAqcXVldWUpCiAJfQogCiAJZXJyID0geGRwX3J4cV9pbmZvX3JlZygmcXVldWUtPnhk
cF9yeHEsIHF1ZXVlLT5pbmZvLT5uZXRkZXYsCi0JCQkgICAgICAgcXVldWUtPmlkKTsKKwkJCSAg
ICAgICBxdWV1ZS0+aWQsIDApOwogCWlmIChlcnIpIHsKIAkJbmV0ZGV2X2VycihxdWV1ZS0+aW5m
by0+bmV0ZGV2LCAieGRwX3J4cV9pbmZvX3JlZyBmYWlsZWRcbiIpOwogCQlnb3RvIGVycl9mcmVl
X3BwOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9uZXQvYnVzeV9wb2xsLmggYi9pbmNsdWRlL25ldC9i
dXN5X3BvbGwuaAppbmRleCAyZjhmNTE4MDdiODMuLjQ1YjNlMDRiOTlkMyAxMDA2NDQKLS0tIGEv
aW5jbHVkZS9uZXQvYnVzeV9wb2xsLmgKKysrIGIvaW5jbHVkZS9uZXQvYnVzeV9wb2xsLmgKQEAg
LTEzNSwxNCArMTM1LDI1IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBza19tYXJrX25hcGlfaWQoc3Ry
dWN0IHNvY2sgKnNrLCBjb25zdCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQogCXNrX3J4X3F1ZXVlX3Nl
dChzaywgc2tiKTsKIH0KIAotLyogdmFyaWFudCB1c2VkIGZvciB1bmNvbm5lY3RlZCBzb2NrZXRz
ICovCi1zdGF0aWMgaW5saW5lIHZvaWQgc2tfbWFya19uYXBpX2lkX29uY2Uoc3RydWN0IHNvY2sg
KnNrLAotCQkJCQljb25zdCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQorc3RhdGljIGlubGluZSB2b2lk
IF9fc2tfbWFya19uYXBpX2lkX29uY2VfeGRwKHN0cnVjdCBzb2NrICpzaywgdW5zaWduZWQgaW50
IG5hcGlfaWQpCiB7CiAjaWZkZWYgQ09ORklHX05FVF9SWF9CVVNZX1BPTEwKIAlpZiAoIVJFQURf
T05DRShzay0+c2tfbmFwaV9pZCkpCi0JCVdSSVRFX09OQ0Uoc2stPnNrX25hcGlfaWQsIHNrYi0+
bmFwaV9pZCk7CisJCVdSSVRFX09OQ0Uoc2stPnNrX25hcGlfaWQsIG5hcGlfaWQpOwogI2VuZGlm
CiB9CiAKKy8qIHZhcmlhbnQgdXNlZCBmb3IgdW5jb25uZWN0ZWQgc29ja2V0cyAqLworc3RhdGlj
IGlubGluZSB2b2lkIHNrX21hcmtfbmFwaV9pZF9vbmNlKHN0cnVjdCBzb2NrICpzaywKKwkJCQkJ
Y29uc3Qgc3RydWN0IHNrX2J1ZmYgKnNrYikKK3sKKwlfX3NrX21hcmtfbmFwaV9pZF9vbmNlX3hk
cChzaywgc2tiLT5uYXBpX2lkKTsKK30KKworc3RhdGljIGlubGluZSB2b2lkIHNrX21hcmtfbmFw
aV9pZF9vbmNlX3hkcChzdHJ1Y3Qgc29jayAqc2ssCisJCQkJCSAgICBjb25zdCBzdHJ1Y3QgeGRw
X2J1ZmYgKnhkcCkKK3sKKwlfX3NrX21hcmtfbmFwaV9pZF9vbmNlX3hkcChzaywgeGRwLT5yeHEt
Pm5hcGlfaWQpOworfQorCiAjZW5kaWYgLyogX0xJTlVYX05FVF9CVVNZX1BPTExfSCAqLwpkaWZm
IC0tZ2l0IGEvaW5jbHVkZS9uZXQveGRwLmggYi9pbmNsdWRlL25ldC94ZHAuaAppbmRleCA3ZDQ4
YjJhZTIxN2EuLjcwMGFkNWRiN2Y1ZCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9uZXQveGRwLmgKKysr
IGIvaW5jbHVkZS9uZXQveGRwLmgKQEAgLTU5LDYgKzU5LDcgQEAgc3RydWN0IHhkcF9yeHFfaW5m
byB7CiAJdTMyIHF1ZXVlX2luZGV4OwogCXUzMiByZWdfc3RhdGU7CiAJc3RydWN0IHhkcF9tZW1f
aW5mbyBtZW07CisJdW5zaWduZWQgaW50IG5hcGlfaWQ7CiB9IF9fX19jYWNoZWxpbmVfYWxpZ25l
ZDsgLyogcGVyZiBjcml0aWNhbCwgYXZvaWQgZmFsc2Utc2hhcmluZyAqLwogCiBzdHJ1Y3QgeGRw
X3R4cV9pbmZvIHsKQEAgLTIyNiw3ICsyMjcsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgeGRwX3Jl
bGVhc2VfZnJhbWUoc3RydWN0IHhkcF9mcmFtZSAqeGRwZikKIH0KIAogaW50IHhkcF9yeHFfaW5m
b19yZWcoc3RydWN0IHhkcF9yeHFfaW5mbyAqeGRwX3J4cSwKLQkJICAgICBzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2LCB1MzIgcXVldWVfaW5kZXgpOworCQkgICAgIHN0cnVjdCBuZXRfZGV2aWNlICpk
ZXYsIHUzMiBxdWV1ZV9pbmRleCwgdW5zaWduZWQgaW50IG5hcGlfaWQpOwogdm9pZCB4ZHBfcnhx
X2luZm9fdW5yZWcoc3RydWN0IHhkcF9yeHFfaW5mbyAqeGRwX3J4cSk7CiB2b2lkIHhkcF9yeHFf
aW5mb191bnVzZWQoc3RydWN0IHhkcF9yeHFfaW5mbyAqeGRwX3J4cSk7CiBib29sIHhkcF9yeHFf
aW5mb19pc19yZWcoc3RydWN0IHhkcF9yeHFfaW5mbyAqeGRwX3J4cSk7CmRpZmYgLS1naXQgYS9u
ZXQvY29yZS9kZXYuYyBiL25ldC9jb3JlL2Rldi5jCmluZGV4IDdhMWU1OTM2YzY3Zi4uM2I2YjBl
MTc1ZmU3IDEwMDY0NAotLS0gYS9uZXQvY29yZS9kZXYuYworKysgYi9uZXQvY29yZS9kZXYuYwpA
QCAtOTgxMCw3ICs5ODEwLDcgQEAgc3RhdGljIGludCBuZXRpZl9hbGxvY19yeF9xdWV1ZXMoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldikKIAkJcnhbaV0uZGV2ID0gZGV2OwogCiAJCS8qIFhEUCBSWC1x
dWV1ZSBzZXR1cCAqLwotCQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZyeFtpXS54ZHBfcnhxLCBk
ZXYsIGkpOworCQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZyeFtpXS54ZHBfcnhxLCBkZXYsIGks
IDApOwogCQlpZiAoZXJyIDwgMCkKIAkJCWdvdG8gZXJyX3J4cV9pbmZvOwogCX0KZGlmZiAtLWdp
dCBhL25ldC9jb3JlL3hkcC5jIGIvbmV0L2NvcmUveGRwLmMKaW5kZXggM2QzMzBlYmRhODkzLi4x
N2ZmZDMzYzZiMTggMTAwNjQ0Ci0tLSBhL25ldC9jb3JlL3hkcC5jCisrKyBiL25ldC9jb3JlL3hk
cC5jCkBAIC0xNTgsNyArMTU4LDcgQEAgc3RhdGljIHZvaWQgeGRwX3J4cV9pbmZvX2luaXQoc3Ry
dWN0IHhkcF9yeHFfaW5mbyAqeGRwX3J4cSkKIAogLyogUmV0dXJucyAwIG9uIHN1Y2Nlc3MsIG5l
Z2F0aXZlIG9uIGZhaWx1cmUgKi8KIGludCB4ZHBfcnhxX2luZm9fcmVnKHN0cnVjdCB4ZHBfcnhx
X2luZm8gKnhkcF9yeHEsCi0JCSAgICAgc3RydWN0IG5ldF9kZXZpY2UgKmRldiwgdTMyIHF1ZXVl
X2luZGV4KQorCQkgICAgIHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHUzMiBxdWV1ZV9pbmRleCwg
dW5zaWduZWQgaW50IG5hcGlfaWQpCiB7CiAJaWYgKHhkcF9yeHEtPnJlZ19zdGF0ZSA9PSBSRUdf
U1RBVEVfVU5VU0VEKSB7CiAJCVdBUk4oMSwgIkRyaXZlciBwcm9taXNlZCBub3QgdG8gcmVnaXN0
ZXIgdGhpcyIpOwpAQCAtMTc5LDYgKzE3OSw3IEBAIGludCB4ZHBfcnhxX2luZm9fcmVnKHN0cnVj
dCB4ZHBfcnhxX2luZm8gKnhkcF9yeHEsCiAJeGRwX3J4cV9pbmZvX2luaXQoeGRwX3J4cSk7CiAJ
eGRwX3J4cS0+ZGV2ID0gZGV2OwogCXhkcF9yeHEtPnF1ZXVlX2luZGV4ID0gcXVldWVfaW5kZXg7
CisJeGRwX3J4cS0+bmFwaV9pZCA9IG5hcGlfaWQ7CiAKIAl4ZHBfcnhxLT5yZWdfc3RhdGUgPSBS
RUdfU1RBVEVfUkVHSVNURVJFRDsKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBhL25ldC94ZHAveHNr
LmMgYi9uZXQveGRwL3hzay5jCmluZGV4IGVjYzQ1NzllNDFlZS4uZDRjYjFjNWMxYWJmIDEwMDY0
NAotLS0gYS9uZXQveGRwL3hzay5jCisrKyBiL25ldC94ZHAveHNrLmMKQEAgLTIzMyw2ICsyMzMs
NyBAQCBzdGF0aWMgaW50IHhza19yY3Yoc3RydWN0IHhkcF9zb2NrICp4cywgc3RydWN0IHhkcF9i
dWZmICp4ZHAsCiAJaWYgKHhzLT5kZXYgIT0geGRwLT5yeHEtPmRldiB8fCB4cy0+cXVldWVfaWQg
IT0geGRwLT5yeHEtPnF1ZXVlX2luZGV4KQogCQlyZXR1cm4gLUVJTlZBTDsKIAorCXNrX21hcmtf
bmFwaV9pZF9vbmNlX3hkcCgmeHMtPnNrLCB4ZHApOwogCWxlbiA9IHhkcC0+ZGF0YV9lbmQgLSB4
ZHAtPmRhdGE7CiAKIAlyZXR1cm4geGRwLT5yeHEtPm1lbS50eXBlID09IE1FTV9UWVBFX1hTS19C
VUZGX1BPT0wgPwotLSAKMi4yNy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpJbnRlbC13aXJlZC1sYW4gbWFpbGluZyBsaXN0CkludGVsLXdpcmVkLWxh
bkBvc3Vvc2wub3JnCmh0dHBzOi8vbGlzdHMub3N1b3NsLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2lu
dGVsLXdpcmVkLWxhbgo=
